(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$":
/*!*********************************************************************************************************************************************!*\
  !*** ./node_modules/@ionic/core/dist/esm-es5 lazy ^\.\/.*\.entry\.js$ include: \.entry\.js$ exclude: \.system\.entry\.js$ namespace object ***!
  \*********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./ion-action-sheet-controller_8.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-controller_8.entry.js",
		"common",
		2
	],
	"./ion-action-sheet-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-ios.entry.js",
		"common",
		3
	],
	"./ion-action-sheet-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-action-sheet-md.entry.js",
		"common",
		4
	],
	"./ion-alert-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-alert-ios.entry.js",
		"common",
		5
	],
	"./ion-alert-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-alert-md.entry.js",
		"common",
		6
	],
	"./ion-app_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-ios.entry.js",
		0,
		"common",
		7
	],
	"./ion-app_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-app_8-md.entry.js",
		0,
		"common",
		8
	],
	"./ion-avatar_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-ios.entry.js",
		"common",
		9
	],
	"./ion-avatar_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-avatar_3-md.entry.js",
		"common",
		10
	],
	"./ion-back-button-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-ios.entry.js",
		"common",
		11
	],
	"./ion-back-button-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-back-button-md.entry.js",
		"common",
		12
	],
	"./ion-backdrop-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-ios.entry.js",
		"common",
		13
	],
	"./ion-backdrop-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-backdrop-md.entry.js",
		"common",
		14
	],
	"./ion-button_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-ios.entry.js",
		"common",
		15
	],
	"./ion-button_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-button_2-md.entry.js",
		"common",
		16
	],
	"./ion-card_5-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-ios.entry.js",
		"common",
		17
	],
	"./ion-card_5-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-card_5-md.entry.js",
		"common",
		18
	],
	"./ion-checkbox-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-ios.entry.js",
		"common",
		19
	],
	"./ion-checkbox-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-checkbox-md.entry.js",
		"common",
		20
	],
	"./ion-chip-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-chip-ios.entry.js",
		"common",
		21
	],
	"./ion-chip-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-chip-md.entry.js",
		"common",
		22
	],
	"./ion-col_3.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-col_3.entry.js",
		23
	],
	"./ion-datetime_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-ios.entry.js",
		"common",
		24
	],
	"./ion-datetime_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-datetime_3-md.entry.js",
		"common",
		25
	],
	"./ion-fab_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-ios.entry.js",
		"common",
		26
	],
	"./ion-fab_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-fab_3-md.entry.js",
		"common",
		27
	],
	"./ion-img.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-img.entry.js",
		28
	],
	"./ion-infinite-scroll_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-ios.entry.js",
		"common",
		29
	],
	"./ion-infinite-scroll_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-infinite-scroll_2-md.entry.js",
		"common",
		30
	],
	"./ion-input-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-input-ios.entry.js",
		"common",
		31
	],
	"./ion-input-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-input-md.entry.js",
		"common",
		32
	],
	"./ion-item-option_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-ios.entry.js",
		"common",
		33
	],
	"./ion-item-option_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item-option_3-md.entry.js",
		"common",
		34
	],
	"./ion-item_8-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-ios.entry.js",
		"common",
		35
	],
	"./ion-item_8-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-item_8-md.entry.js",
		"common",
		36
	],
	"./ion-loading-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-loading-ios.entry.js",
		"common",
		37
	],
	"./ion-loading-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-loading-md.entry.js",
		"common",
		38
	],
	"./ion-menu_4-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-ios.entry.js",
		"common",
		39
	],
	"./ion-menu_4-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-menu_4-md.entry.js",
		"common",
		40
	],
	"./ion-modal-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-modal-ios.entry.js",
		0,
		"common",
		41
	],
	"./ion-modal-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-modal-md.entry.js",
		0,
		"common",
		42
	],
	"./ion-nav_5.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-nav_5.entry.js",
		0,
		"common",
		43
	],
	"./ion-popover-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-popover-ios.entry.js",
		0,
		"common",
		44
	],
	"./ion-popover-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-popover-md.entry.js",
		0,
		"common",
		45
	],
	"./ion-progress-bar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-ios.entry.js",
		"common",
		46
	],
	"./ion-progress-bar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-progress-bar-md.entry.js",
		"common",
		47
	],
	"./ion-radio_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-ios.entry.js",
		"common",
		48
	],
	"./ion-radio_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-radio_2-md.entry.js",
		"common",
		49
	],
	"./ion-range-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-range-ios.entry.js",
		"common",
		50
	],
	"./ion-range-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-range-md.entry.js",
		"common",
		51
	],
	"./ion-refresher_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-ios.entry.js",
		"common",
		52
	],
	"./ion-refresher_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-refresher_2-md.entry.js",
		"common",
		53
	],
	"./ion-reorder_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-ios.entry.js",
		"common",
		54
	],
	"./ion-reorder_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-reorder_2-md.entry.js",
		"common",
		55
	],
	"./ion-ripple-effect.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-ripple-effect.entry.js",
		56
	],
	"./ion-route_4.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-route_4.entry.js",
		"common",
		57
	],
	"./ion-searchbar-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-ios.entry.js",
		"common",
		58
	],
	"./ion-searchbar-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-searchbar-md.entry.js",
		"common",
		59
	],
	"./ion-segment_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-ios.entry.js",
		"common",
		60
	],
	"./ion-segment_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-segment_2-md.entry.js",
		"common",
		61
	],
	"./ion-select_3-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-ios.entry.js",
		"common",
		62
	],
	"./ion-select_3-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-select_3-md.entry.js",
		"common",
		63
	],
	"./ion-slide_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-ios.entry.js",
		"common",
		64
	],
	"./ion-slide_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-slide_2-md.entry.js",
		"common",
		65
	],
	"./ion-spinner.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-spinner.entry.js",
		"common",
		66
	],
	"./ion-split-pane-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-ios.entry.js",
		67
	],
	"./ion-split-pane-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-split-pane-md.entry.js",
		68
	],
	"./ion-tab-bar_2-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-ios.entry.js",
		"common",
		69
	],
	"./ion-tab-bar_2-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab-bar_2-md.entry.js",
		"common",
		70
	],
	"./ion-tab_2.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-tab_2.entry.js",
		1
	],
	"./ion-text.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-text.entry.js",
		"common",
		71
	],
	"./ion-textarea-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-ios.entry.js",
		"common",
		72
	],
	"./ion-textarea-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-textarea-md.entry.js",
		"common",
		73
	],
	"./ion-toast-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toast-ios.entry.js",
		"common",
		74
	],
	"./ion-toast-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toast-md.entry.js",
		"common",
		75
	],
	"./ion-toggle-ios.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-ios.entry.js",
		"common",
		76
	],
	"./ion-toggle-md.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-toggle-md.entry.js",
		"common",
		77
	],
	"./ion-virtual-scroll.entry.js": [
		"./node_modules/@ionic/core/dist/esm-es5/ion-virtual-scroll.entry.js",
		78
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./node_modules/@ionic/core/dist/esm-es5 lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./node_modules/hammerjs/hammer.js":
/*!*****************************************!*\
  !*** ./node_modules/hammerjs/hammer.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_RESULT__;/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
(function(window, document, exportName, undefined) {
  'use strict';

var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];
var TEST_ELEMENT = document.createElement('div');

var TYPE_FUNCTION = 'function';

var round = Math.round;
var abs = Math.abs;
var now = Date.now;

/**
 * set a timeout with a given scope
 * @param {Function} fn
 * @param {Number} timeout
 * @param {Object} context
 * @returns {number}
 */
function setTimeoutContext(fn, timeout, context) {
    return setTimeout(bindFn(fn, context), timeout);
}

/**
 * if the argument is an array, we want to execute the fn on each entry
 * if it aint an array we don't want to do a thing.
 * this is used by all the methods that accept a single and array argument.
 * @param {*|Array} arg
 * @param {String} fn
 * @param {Object} [context]
 * @returns {Boolean}
 */
function invokeArrayArg(arg, fn, context) {
    if (Array.isArray(arg)) {
        each(arg, context[fn], context);
        return true;
    }
    return false;
}

/**
 * walk objects and arrays
 * @param {Object} obj
 * @param {Function} iterator
 * @param {Object} context
 */
function each(obj, iterator, context) {
    var i;

    if (!obj) {
        return;
    }

    if (obj.forEach) {
        obj.forEach(iterator, context);
    } else if (obj.length !== undefined) {
        i = 0;
        while (i < obj.length) {
            iterator.call(context, obj[i], i, obj);
            i++;
        }
    } else {
        for (i in obj) {
            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);
        }
    }
}

/**
 * wrap a method with a deprecation warning and stack trace
 * @param {Function} method
 * @param {String} name
 * @param {String} message
 * @returns {Function} A new function wrapping the supplied method.
 */
function deprecate(method, name, message) {
    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\n' + message + ' AT \n';
    return function() {
        var e = new Error('get-stack-trace');
        var stack = e && e.stack ? e.stack.replace(/^[^\(]+?[\n$]/gm, '')
            .replace(/^\s+at\s+/gm, '')
            .replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';

        var log = window.console && (window.console.warn || window.console.log);
        if (log) {
            log.call(window.console, deprecationMessage, stack);
        }
        return method.apply(this, arguments);
    };
}

/**
 * extend object.
 * means that properties in dest will be overwritten by the ones in src.
 * @param {Object} target
 * @param {...Object} objects_to_assign
 * @returns {Object} target
 */
var assign;
if (typeof Object.assign !== 'function') {
    assign = function assign(target) {
        if (target === undefined || target === null) {
            throw new TypeError('Cannot convert undefined or null to object');
        }

        var output = Object(target);
        for (var index = 1; index < arguments.length; index++) {
            var source = arguments[index];
            if (source !== undefined && source !== null) {
                for (var nextKey in source) {
                    if (source.hasOwnProperty(nextKey)) {
                        output[nextKey] = source[nextKey];
                    }
                }
            }
        }
        return output;
    };
} else {
    assign = Object.assign;
}

/**
 * extend object.
 * means that properties in dest will be overwritten by the ones in src.
 * @param {Object} dest
 * @param {Object} src
 * @param {Boolean} [merge=false]
 * @returns {Object} dest
 */
var extend = deprecate(function extend(dest, src, merge) {
    var keys = Object.keys(src);
    var i = 0;
    while (i < keys.length) {
        if (!merge || (merge && dest[keys[i]] === undefined)) {
            dest[keys[i]] = src[keys[i]];
        }
        i++;
    }
    return dest;
}, 'extend', 'Use `assign`.');

/**
 * merge the values from src in the dest.
 * means that properties that exist in dest will not be overwritten by src
 * @param {Object} dest
 * @param {Object} src
 * @returns {Object} dest
 */
var merge = deprecate(function merge(dest, src) {
    return extend(dest, src, true);
}, 'merge', 'Use `assign`.');

/**
 * simple class inheritance
 * @param {Function} child
 * @param {Function} base
 * @param {Object} [properties]
 */
function inherit(child, base, properties) {
    var baseP = base.prototype,
        childP;

    childP = child.prototype = Object.create(baseP);
    childP.constructor = child;
    childP._super = baseP;

    if (properties) {
        assign(childP, properties);
    }
}

/**
 * simple function bind
 * @param {Function} fn
 * @param {Object} context
 * @returns {Function}
 */
function bindFn(fn, context) {
    return function boundFn() {
        return fn.apply(context, arguments);
    };
}

/**
 * let a boolean value also be a function that must return a boolean
 * this first item in args will be used as the context
 * @param {Boolean|Function} val
 * @param {Array} [args]
 * @returns {Boolean}
 */
function boolOrFn(val, args) {
    if (typeof val == TYPE_FUNCTION) {
        return val.apply(args ? args[0] || undefined : undefined, args);
    }
    return val;
}

/**
 * use the val2 when val1 is undefined
 * @param {*} val1
 * @param {*} val2
 * @returns {*}
 */
function ifUndefined(val1, val2) {
    return (val1 === undefined) ? val2 : val1;
}

/**
 * addEventListener with multiple events at once
 * @param {EventTarget} target
 * @param {String} types
 * @param {Function} handler
 */
function addEventListeners(target, types, handler) {
    each(splitStr(types), function(type) {
        target.addEventListener(type, handler, false);
    });
}

/**
 * removeEventListener with multiple events at once
 * @param {EventTarget} target
 * @param {String} types
 * @param {Function} handler
 */
function removeEventListeners(target, types, handler) {
    each(splitStr(types), function(type) {
        target.removeEventListener(type, handler, false);
    });
}

/**
 * find if a node is in the given parent
 * @method hasParent
 * @param {HTMLElement} node
 * @param {HTMLElement} parent
 * @return {Boolean} found
 */
function hasParent(node, parent) {
    while (node) {
        if (node == parent) {
            return true;
        }
        node = node.parentNode;
    }
    return false;
}

/**
 * small indexOf wrapper
 * @param {String} str
 * @param {String} find
 * @returns {Boolean} found
 */
function inStr(str, find) {
    return str.indexOf(find) > -1;
}

/**
 * split string on whitespace
 * @param {String} str
 * @returns {Array} words
 */
function splitStr(str) {
    return str.trim().split(/\s+/g);
}

/**
 * find if a array contains the object using indexOf or a simple polyFill
 * @param {Array} src
 * @param {String} find
 * @param {String} [findByKey]
 * @return {Boolean|Number} false when not found, or the index
 */
function inArray(src, find, findByKey) {
    if (src.indexOf && !findByKey) {
        return src.indexOf(find);
    } else {
        var i = 0;
        while (i < src.length) {
            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {
                return i;
            }
            i++;
        }
        return -1;
    }
}

/**
 * convert array-like objects to real arrays
 * @param {Object} obj
 * @returns {Array}
 */
function toArray(obj) {
    return Array.prototype.slice.call(obj, 0);
}

/**
 * unique array with objects based on a key (like 'id') or just by the array's value
 * @param {Array} src [{id:1},{id:2},{id:1}]
 * @param {String} [key]
 * @param {Boolean} [sort=False]
 * @returns {Array} [{id:1},{id:2}]
 */
function uniqueArray(src, key, sort) {
    var results = [];
    var values = [];
    var i = 0;

    while (i < src.length) {
        var val = key ? src[i][key] : src[i];
        if (inArray(values, val) < 0) {
            results.push(src[i]);
        }
        values[i] = val;
        i++;
    }

    if (sort) {
        if (!key) {
            results = results.sort();
        } else {
            results = results.sort(function sortUniqueArray(a, b) {
                return a[key] > b[key];
            });
        }
    }

    return results;
}

/**
 * get the prefixed property
 * @param {Object} obj
 * @param {String} property
 * @returns {String|Undefined} prefixed
 */
function prefixed(obj, property) {
    var prefix, prop;
    var camelProp = property[0].toUpperCase() + property.slice(1);

    var i = 0;
    while (i < VENDOR_PREFIXES.length) {
        prefix = VENDOR_PREFIXES[i];
        prop = (prefix) ? prefix + camelProp : property;

        if (prop in obj) {
            return prop;
        }
        i++;
    }
    return undefined;
}

/**
 * get a unique id
 * @returns {number} uniqueId
 */
var _uniqueId = 1;
function uniqueId() {
    return _uniqueId++;
}

/**
 * get the window object of an element
 * @param {HTMLElement} element
 * @returns {DocumentView|Window}
 */
function getWindowForElement(element) {
    var doc = element.ownerDocument || element;
    return (doc.defaultView || doc.parentWindow || window);
}

var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;

var SUPPORT_TOUCH = ('ontouchstart' in window);
var SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;
var SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);

var INPUT_TYPE_TOUCH = 'touch';
var INPUT_TYPE_PEN = 'pen';
var INPUT_TYPE_MOUSE = 'mouse';
var INPUT_TYPE_KINECT = 'kinect';

var COMPUTE_INTERVAL = 25;

var INPUT_START = 1;
var INPUT_MOVE = 2;
var INPUT_END = 4;
var INPUT_CANCEL = 8;

var DIRECTION_NONE = 1;
var DIRECTION_LEFT = 2;
var DIRECTION_RIGHT = 4;
var DIRECTION_UP = 8;
var DIRECTION_DOWN = 16;

var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;
var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;
var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;

var PROPS_XY = ['x', 'y'];
var PROPS_CLIENT_XY = ['clientX', 'clientY'];

/**
 * create new input type manager
 * @param {Manager} manager
 * @param {Function} callback
 * @returns {Input}
 * @constructor
 */
function Input(manager, callback) {
    var self = this;
    this.manager = manager;
    this.callback = callback;
    this.element = manager.element;
    this.target = manager.options.inputTarget;

    // smaller wrapper around the handler, for the scope and the enabled state of the manager,
    // so when disabled the input events are completely bypassed.
    this.domHandler = function(ev) {
        if (boolOrFn(manager.options.enable, [manager])) {
            self.handler(ev);
        }
    };

    this.init();

}

Input.prototype = {
    /**
     * should handle the inputEvent data and trigger the callback
     * @virtual
     */
    handler: function() { },

    /**
     * bind the events
     */
    init: function() {
        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);
        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);
        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);
    },

    /**
     * unbind the events
     */
    destroy: function() {
        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);
        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);
        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);
    }
};

/**
 * create new input type manager
 * called by the Manager constructor
 * @param {Hammer} manager
 * @returns {Input}
 */
function createInputInstance(manager) {
    var Type;
    var inputClass = manager.options.inputClass;

    if (inputClass) {
        Type = inputClass;
    } else if (SUPPORT_POINTER_EVENTS) {
        Type = PointerEventInput;
    } else if (SUPPORT_ONLY_TOUCH) {
        Type = TouchInput;
    } else if (!SUPPORT_TOUCH) {
        Type = MouseInput;
    } else {
        Type = TouchMouseInput;
    }
    return new (Type)(manager, inputHandler);
}

/**
 * handle input events
 * @param {Manager} manager
 * @param {String} eventType
 * @param {Object} input
 */
function inputHandler(manager, eventType, input) {
    var pointersLen = input.pointers.length;
    var changedPointersLen = input.changedPointers.length;
    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));
    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));

    input.isFirst = !!isFirst;
    input.isFinal = !!isFinal;

    if (isFirst) {
        manager.session = {};
    }

    // source event is the normalized value of the domEvents
    // like 'touchstart, mouseup, pointerdown'
    input.eventType = eventType;

    // compute scale, rotation etc
    computeInputData(manager, input);

    // emit secret event
    manager.emit('hammer.input', input);

    manager.recognize(input);
    manager.session.prevInput = input;
}

/**
 * extend the data with some usable properties like scale, rotate, velocity etc
 * @param {Object} manager
 * @param {Object} input
 */
function computeInputData(manager, input) {
    var session = manager.session;
    var pointers = input.pointers;
    var pointersLength = pointers.length;

    // store the first input to calculate the distance and direction
    if (!session.firstInput) {
        session.firstInput = simpleCloneInputData(input);
    }

    // to compute scale and rotation we need to store the multiple touches
    if (pointersLength > 1 && !session.firstMultiple) {
        session.firstMultiple = simpleCloneInputData(input);
    } else if (pointersLength === 1) {
        session.firstMultiple = false;
    }

    var firstInput = session.firstInput;
    var firstMultiple = session.firstMultiple;
    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;

    var center = input.center = getCenter(pointers);
    input.timeStamp = now();
    input.deltaTime = input.timeStamp - firstInput.timeStamp;

    input.angle = getAngle(offsetCenter, center);
    input.distance = getDistance(offsetCenter, center);

    computeDeltaXY(session, input);
    input.offsetDirection = getDirection(input.deltaX, input.deltaY);

    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);
    input.overallVelocityX = overallVelocity.x;
    input.overallVelocityY = overallVelocity.y;
    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;

    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;
    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;

    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >
        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);

    computeIntervalInputData(session, input);

    // find the correct target
    var target = manager.element;
    if (hasParent(input.srcEvent.target, target)) {
        target = input.srcEvent.target;
    }
    input.target = target;
}

function computeDeltaXY(session, input) {
    var center = input.center;
    var offset = session.offsetDelta || {};
    var prevDelta = session.prevDelta || {};
    var prevInput = session.prevInput || {};

    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {
        prevDelta = session.prevDelta = {
            x: prevInput.deltaX || 0,
            y: prevInput.deltaY || 0
        };

        offset = session.offsetDelta = {
            x: center.x,
            y: center.y
        };
    }

    input.deltaX = prevDelta.x + (center.x - offset.x);
    input.deltaY = prevDelta.y + (center.y - offset.y);
}

/**
 * velocity is calculated every x ms
 * @param {Object} session
 * @param {Object} input
 */
function computeIntervalInputData(session, input) {
    var last = session.lastInterval || input,
        deltaTime = input.timeStamp - last.timeStamp,
        velocity, velocityX, velocityY, direction;

    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {
        var deltaX = input.deltaX - last.deltaX;
        var deltaY = input.deltaY - last.deltaY;

        var v = getVelocity(deltaTime, deltaX, deltaY);
        velocityX = v.x;
        velocityY = v.y;
        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;
        direction = getDirection(deltaX, deltaY);

        session.lastInterval = input;
    } else {
        // use latest velocity info if it doesn't overtake a minimum period
        velocity = last.velocity;
        velocityX = last.velocityX;
        velocityY = last.velocityY;
        direction = last.direction;
    }

    input.velocity = velocity;
    input.velocityX = velocityX;
    input.velocityY = velocityY;
    input.direction = direction;
}

/**
 * create a simple clone from the input used for storage of firstInput and firstMultiple
 * @param {Object} input
 * @returns {Object} clonedInputData
 */
function simpleCloneInputData(input) {
    // make a simple copy of the pointers because we will get a reference if we don't
    // we only need clientXY for the calculations
    var pointers = [];
    var i = 0;
    while (i < input.pointers.length) {
        pointers[i] = {
            clientX: round(input.pointers[i].clientX),
            clientY: round(input.pointers[i].clientY)
        };
        i++;
    }

    return {
        timeStamp: now(),
        pointers: pointers,
        center: getCenter(pointers),
        deltaX: input.deltaX,
        deltaY: input.deltaY
    };
}

/**
 * get the center of all the pointers
 * @param {Array} pointers
 * @return {Object} center contains `x` and `y` properties
 */
function getCenter(pointers) {
    var pointersLength = pointers.length;

    // no need to loop when only one touch
    if (pointersLength === 1) {
        return {
            x: round(pointers[0].clientX),
            y: round(pointers[0].clientY)
        };
    }

    var x = 0, y = 0, i = 0;
    while (i < pointersLength) {
        x += pointers[i].clientX;
        y += pointers[i].clientY;
        i++;
    }

    return {
        x: round(x / pointersLength),
        y: round(y / pointersLength)
    };
}

/**
 * calculate the velocity between two points. unit is in px per ms.
 * @param {Number} deltaTime
 * @param {Number} x
 * @param {Number} y
 * @return {Object} velocity `x` and `y`
 */
function getVelocity(deltaTime, x, y) {
    return {
        x: x / deltaTime || 0,
        y: y / deltaTime || 0
    };
}

/**
 * get the direction between two points
 * @param {Number} x
 * @param {Number} y
 * @return {Number} direction
 */
function getDirection(x, y) {
    if (x === y) {
        return DIRECTION_NONE;
    }

    if (abs(x) >= abs(y)) {
        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;
    }
    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;
}

/**
 * calculate the absolute distance between two points
 * @param {Object} p1 {x, y}
 * @param {Object} p2 {x, y}
 * @param {Array} [props] containing x and y keys
 * @return {Number} distance
 */
function getDistance(p1, p2, props) {
    if (!props) {
        props = PROPS_XY;
    }
    var x = p2[props[0]] - p1[props[0]],
        y = p2[props[1]] - p1[props[1]];

    return Math.sqrt((x * x) + (y * y));
}

/**
 * calculate the angle between two coordinates
 * @param {Object} p1
 * @param {Object} p2
 * @param {Array} [props] containing x and y keys
 * @return {Number} angle
 */
function getAngle(p1, p2, props) {
    if (!props) {
        props = PROPS_XY;
    }
    var x = p2[props[0]] - p1[props[0]],
        y = p2[props[1]] - p1[props[1]];
    return Math.atan2(y, x) * 180 / Math.PI;
}

/**
 * calculate the rotation degrees between two pointersets
 * @param {Array} start array of pointers
 * @param {Array} end array of pointers
 * @return {Number} rotation
 */
function getRotation(start, end) {
    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);
}

/**
 * calculate the scale factor between two pointersets
 * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out
 * @param {Array} start array of pointers
 * @param {Array} end array of pointers
 * @return {Number} scale
 */
function getScale(start, end) {
    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);
}

var MOUSE_INPUT_MAP = {
    mousedown: INPUT_START,
    mousemove: INPUT_MOVE,
    mouseup: INPUT_END
};

var MOUSE_ELEMENT_EVENTS = 'mousedown';
var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';

/**
 * Mouse events input
 * @constructor
 * @extends Input
 */
function MouseInput() {
    this.evEl = MOUSE_ELEMENT_EVENTS;
    this.evWin = MOUSE_WINDOW_EVENTS;

    this.pressed = false; // mousedown state

    Input.apply(this, arguments);
}

inherit(MouseInput, Input, {
    /**
     * handle mouse events
     * @param {Object} ev
     */
    handler: function MEhandler(ev) {
        var eventType = MOUSE_INPUT_MAP[ev.type];

        // on start we want to have the left mouse button down
        if (eventType & INPUT_START && ev.button === 0) {
            this.pressed = true;
        }

        if (eventType & INPUT_MOVE && ev.which !== 1) {
            eventType = INPUT_END;
        }

        // mouse must be down
        if (!this.pressed) {
            return;
        }

        if (eventType & INPUT_END) {
            this.pressed = false;
        }

        this.callback(this.manager, eventType, {
            pointers: [ev],
            changedPointers: [ev],
            pointerType: INPUT_TYPE_MOUSE,
            srcEvent: ev
        });
    }
});

var POINTER_INPUT_MAP = {
    pointerdown: INPUT_START,
    pointermove: INPUT_MOVE,
    pointerup: INPUT_END,
    pointercancel: INPUT_CANCEL,
    pointerout: INPUT_CANCEL
};

// in IE10 the pointer types is defined as an enum
var IE10_POINTER_TYPE_ENUM = {
    2: INPUT_TYPE_TOUCH,
    3: INPUT_TYPE_PEN,
    4: INPUT_TYPE_MOUSE,
    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816
};

var POINTER_ELEMENT_EVENTS = 'pointerdown';
var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';

// IE10 has prefixed support, and case-sensitive
if (window.MSPointerEvent && !window.PointerEvent) {
    POINTER_ELEMENT_EVENTS = 'MSPointerDown';
    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';
}

/**
 * Pointer events input
 * @constructor
 * @extends Input
 */
function PointerEventInput() {
    this.evEl = POINTER_ELEMENT_EVENTS;
    this.evWin = POINTER_WINDOW_EVENTS;

    Input.apply(this, arguments);

    this.store = (this.manager.session.pointerEvents = []);
}

inherit(PointerEventInput, Input, {
    /**
     * handle mouse events
     * @param {Object} ev
     */
    handler: function PEhandler(ev) {
        var store = this.store;
        var removePointer = false;

        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');
        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];
        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;

        var isTouch = (pointerType == INPUT_TYPE_TOUCH);

        // get index of the event in the store
        var storeIndex = inArray(store, ev.pointerId, 'pointerId');

        // start and mouse must be down
        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {
            if (storeIndex < 0) {
                store.push(ev);
                storeIndex = store.length - 1;
            }
        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {
            removePointer = true;
        }

        // it not found, so the pointer hasn't been down (so it's probably a hover)
        if (storeIndex < 0) {
            return;
        }

        // update the event in the store
        store[storeIndex] = ev;

        this.callback(this.manager, eventType, {
            pointers: store,
            changedPointers: [ev],
            pointerType: pointerType,
            srcEvent: ev
        });

        if (removePointer) {
            // remove from the store
            store.splice(storeIndex, 1);
        }
    }
});

var SINGLE_TOUCH_INPUT_MAP = {
    touchstart: INPUT_START,
    touchmove: INPUT_MOVE,
    touchend: INPUT_END,
    touchcancel: INPUT_CANCEL
};

var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';
var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';

/**
 * Touch events input
 * @constructor
 * @extends Input
 */
function SingleTouchInput() {
    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;
    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;
    this.started = false;

    Input.apply(this, arguments);
}

inherit(SingleTouchInput, Input, {
    handler: function TEhandler(ev) {
        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];

        // should we handle the touch events?
        if (type === INPUT_START) {
            this.started = true;
        }

        if (!this.started) {
            return;
        }

        var touches = normalizeSingleTouches.call(this, ev, type);

        // when done, reset the started state
        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {
            this.started = false;
        }

        this.callback(this.manager, type, {
            pointers: touches[0],
            changedPointers: touches[1],
            pointerType: INPUT_TYPE_TOUCH,
            srcEvent: ev
        });
    }
});

/**
 * @this {TouchInput}
 * @param {Object} ev
 * @param {Number} type flag
 * @returns {undefined|Array} [all, changed]
 */
function normalizeSingleTouches(ev, type) {
    var all = toArray(ev.touches);
    var changed = toArray(ev.changedTouches);

    if (type & (INPUT_END | INPUT_CANCEL)) {
        all = uniqueArray(all.concat(changed), 'identifier', true);
    }

    return [all, changed];
}

var TOUCH_INPUT_MAP = {
    touchstart: INPUT_START,
    touchmove: INPUT_MOVE,
    touchend: INPUT_END,
    touchcancel: INPUT_CANCEL
};

var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';

/**
 * Multi-user touch events input
 * @constructor
 * @extends Input
 */
function TouchInput() {
    this.evTarget = TOUCH_TARGET_EVENTS;
    this.targetIds = {};

    Input.apply(this, arguments);
}

inherit(TouchInput, Input, {
    handler: function MTEhandler(ev) {
        var type = TOUCH_INPUT_MAP[ev.type];
        var touches = getTouches.call(this, ev, type);
        if (!touches) {
            return;
        }

        this.callback(this.manager, type, {
            pointers: touches[0],
            changedPointers: touches[1],
            pointerType: INPUT_TYPE_TOUCH,
            srcEvent: ev
        });
    }
});

/**
 * @this {TouchInput}
 * @param {Object} ev
 * @param {Number} type flag
 * @returns {undefined|Array} [all, changed]
 */
function getTouches(ev, type) {
    var allTouches = toArray(ev.touches);
    var targetIds = this.targetIds;

    // when there is only one touch, the process can be simplified
    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {
        targetIds[allTouches[0].identifier] = true;
        return [allTouches, allTouches];
    }

    var i,
        targetTouches,
        changedTouches = toArray(ev.changedTouches),
        changedTargetTouches = [],
        target = this.target;

    // get target touches from touches
    targetTouches = allTouches.filter(function(touch) {
        return hasParent(touch.target, target);
    });

    // collect touches
    if (type === INPUT_START) {
        i = 0;
        while (i < targetTouches.length) {
            targetIds[targetTouches[i].identifier] = true;
            i++;
        }
    }

    // filter changed touches to only contain touches that exist in the collected target ids
    i = 0;
    while (i < changedTouches.length) {
        if (targetIds[changedTouches[i].identifier]) {
            changedTargetTouches.push(changedTouches[i]);
        }

        // cleanup removed touches
        if (type & (INPUT_END | INPUT_CANCEL)) {
            delete targetIds[changedTouches[i].identifier];
        }
        i++;
    }

    if (!changedTargetTouches.length) {
        return;
    }

    return [
        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'
        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),
        changedTargetTouches
    ];
}

/**
 * Combined touch and mouse input
 *
 * Touch has a higher priority then mouse, and while touching no mouse events are allowed.
 * This because touch devices also emit mouse events while doing a touch.
 *
 * @constructor
 * @extends Input
 */

var DEDUP_TIMEOUT = 2500;
var DEDUP_DISTANCE = 25;

function TouchMouseInput() {
    Input.apply(this, arguments);

    var handler = bindFn(this.handler, this);
    this.touch = new TouchInput(this.manager, handler);
    this.mouse = new MouseInput(this.manager, handler);

    this.primaryTouch = null;
    this.lastTouches = [];
}

inherit(TouchMouseInput, Input, {
    /**
     * handle mouse and touch events
     * @param {Hammer} manager
     * @param {String} inputEvent
     * @param {Object} inputData
     */
    handler: function TMEhandler(manager, inputEvent, inputData) {
        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),
            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);

        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {
            return;
        }

        // when we're in a touch event, record touches to  de-dupe synthetic mouse event
        if (isTouch) {
            recordTouches.call(this, inputEvent, inputData);
        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {
            return;
        }

        this.callback(manager, inputEvent, inputData);
    },

    /**
     * remove the event listeners
     */
    destroy: function destroy() {
        this.touch.destroy();
        this.mouse.destroy();
    }
});

function recordTouches(eventType, eventData) {
    if (eventType & INPUT_START) {
        this.primaryTouch = eventData.changedPointers[0].identifier;
        setLastTouch.call(this, eventData);
    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {
        setLastTouch.call(this, eventData);
    }
}

function setLastTouch(eventData) {
    var touch = eventData.changedPointers[0];

    if (touch.identifier === this.primaryTouch) {
        var lastTouch = {x: touch.clientX, y: touch.clientY};
        this.lastTouches.push(lastTouch);
        var lts = this.lastTouches;
        var removeLastTouch = function() {
            var i = lts.indexOf(lastTouch);
            if (i > -1) {
                lts.splice(i, 1);
            }
        };
        setTimeout(removeLastTouch, DEDUP_TIMEOUT);
    }
}

function isSyntheticEvent(eventData) {
    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;
    for (var i = 0; i < this.lastTouches.length; i++) {
        var t = this.lastTouches[i];
        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);
        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {
            return true;
        }
    }
    return false;
}

var PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');
var NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;

// magical touchAction value
var TOUCH_ACTION_COMPUTE = 'compute';
var TOUCH_ACTION_AUTO = 'auto';
var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented
var TOUCH_ACTION_NONE = 'none';
var TOUCH_ACTION_PAN_X = 'pan-x';
var TOUCH_ACTION_PAN_Y = 'pan-y';
var TOUCH_ACTION_MAP = getTouchActionProps();

/**
 * Touch Action
 * sets the touchAction property or uses the js alternative
 * @param {Manager} manager
 * @param {String} value
 * @constructor
 */
function TouchAction(manager, value) {
    this.manager = manager;
    this.set(value);
}

TouchAction.prototype = {
    /**
     * set the touchAction value on the element or enable the polyfill
     * @param {String} value
     */
    set: function(value) {
        // find out the touch-action by the event handlers
        if (value == TOUCH_ACTION_COMPUTE) {
            value = this.compute();
        }

        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {
            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;
        }
        this.actions = value.toLowerCase().trim();
    },

    /**
     * just re-set the touchAction value
     */
    update: function() {
        this.set(this.manager.options.touchAction);
    },

    /**
     * compute the value for the touchAction property based on the recognizer's settings
     * @returns {String} value
     */
    compute: function() {
        var actions = [];
        each(this.manager.recognizers, function(recognizer) {
            if (boolOrFn(recognizer.options.enable, [recognizer])) {
                actions = actions.concat(recognizer.getTouchAction());
            }
        });
        return cleanTouchActions(actions.join(' '));
    },

    /**
     * this method is called on each input cycle and provides the preventing of the browser behavior
     * @param {Object} input
     */
    preventDefaults: function(input) {
        var srcEvent = input.srcEvent;
        var direction = input.offsetDirection;

        // if the touch action did prevented once this session
        if (this.manager.session.prevented) {
            srcEvent.preventDefault();
            return;
        }

        var actions = this.actions;
        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];
        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];
        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];

        if (hasNone) {
            //do not prevent defaults if this is a tap gesture

            var isTapPointer = input.pointers.length === 1;
            var isTapMovement = input.distance < 2;
            var isTapTouchTime = input.deltaTime < 250;

            if (isTapPointer && isTapMovement && isTapTouchTime) {
                return;
            }
        }

        if (hasPanX && hasPanY) {
            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent
            return;
        }

        if (hasNone ||
            (hasPanY && direction & DIRECTION_HORIZONTAL) ||
            (hasPanX && direction & DIRECTION_VERTICAL)) {
            return this.preventSrc(srcEvent);
        }
    },

    /**
     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)
     * @param {Object} srcEvent
     */
    preventSrc: function(srcEvent) {
        this.manager.session.prevented = true;
        srcEvent.preventDefault();
    }
};

/**
 * when the touchActions are collected they are not a valid value, so we need to clean things up. *
 * @param {String} actions
 * @returns {*}
 */
function cleanTouchActions(actions) {
    // none
    if (inStr(actions, TOUCH_ACTION_NONE)) {
        return TOUCH_ACTION_NONE;
    }

    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);
    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);

    // if both pan-x and pan-y are set (different recognizers
    // for different directions, e.g. horizontal pan but vertical swipe?)
    // we need none (as otherwise with pan-x pan-y combined none of these
    // recognizers will work, since the browser would handle all panning
    if (hasPanX && hasPanY) {
        return TOUCH_ACTION_NONE;
    }

    // pan-x OR pan-y
    if (hasPanX || hasPanY) {
        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;
    }

    // manipulation
    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {
        return TOUCH_ACTION_MANIPULATION;
    }

    return TOUCH_ACTION_AUTO;
}

function getTouchActionProps() {
    if (!NATIVE_TOUCH_ACTION) {
        return false;
    }
    var touchMap = {};
    var cssSupports = window.CSS && window.CSS.supports;
    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {

        // If css.supports is not supported but there is native touch-action assume it supports
        // all values. This is the case for IE 10 and 11.
        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;
    });
    return touchMap;
}

/**
 * Recognizer flow explained; *
 * All recognizers have the initial state of POSSIBLE when a input session starts.
 * The definition of a input session is from the first input until the last input, with all it's movement in it. *
 * Example session for mouse-input: mousedown -> mousemove -> mouseup
 *
 * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed
 * which determines with state it should be.
 *
 * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to
 * POSSIBLE to give it another change on the next cycle.
 *
 *               Possible
 *                  |
 *            +-----+---------------+
 *            |                     |
 *      +-----+-----+               |
 *      |           |               |
 *   Failed      Cancelled          |
 *                          +-------+------+
 *                          |              |
 *                      Recognized       Began
 *                                         |
 *                                      Changed
 *                                         |
 *                                  Ended/Recognized
 */
var STATE_POSSIBLE = 1;
var STATE_BEGAN = 2;
var STATE_CHANGED = 4;
var STATE_ENDED = 8;
var STATE_RECOGNIZED = STATE_ENDED;
var STATE_CANCELLED = 16;
var STATE_FAILED = 32;

/**
 * Recognizer
 * Every recognizer needs to extend from this class.
 * @constructor
 * @param {Object} options
 */
function Recognizer(options) {
    this.options = assign({}, this.defaults, options || {});

    this.id = uniqueId();

    this.manager = null;

    // default is enable true
    this.options.enable = ifUndefined(this.options.enable, true);

    this.state = STATE_POSSIBLE;

    this.simultaneous = {};
    this.requireFail = [];
}

Recognizer.prototype = {
    /**
     * @virtual
     * @type {Object}
     */
    defaults: {},

    /**
     * set options
     * @param {Object} options
     * @return {Recognizer}
     */
    set: function(options) {
        assign(this.options, options);

        // also update the touchAction, in case something changed about the directions/enabled state
        this.manager && this.manager.touchAction.update();
        return this;
    },

    /**
     * recognize simultaneous with an other recognizer.
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */
    recognizeWith: function(otherRecognizer) {
        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {
            return this;
        }

        var simultaneous = this.simultaneous;
        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
        if (!simultaneous[otherRecognizer.id]) {
            simultaneous[otherRecognizer.id] = otherRecognizer;
            otherRecognizer.recognizeWith(this);
        }
        return this;
    },

    /**
     * drop the simultaneous link. it doesnt remove the link on the other recognizer.
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */
    dropRecognizeWith: function(otherRecognizer) {
        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {
            return this;
        }

        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
        delete this.simultaneous[otherRecognizer.id];
        return this;
    },

    /**
     * recognizer can only run when an other is failing
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */
    requireFailure: function(otherRecognizer) {
        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {
            return this;
        }

        var requireFail = this.requireFail;
        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
        if (inArray(requireFail, otherRecognizer) === -1) {
            requireFail.push(otherRecognizer);
            otherRecognizer.requireFailure(this);
        }
        return this;
    },

    /**
     * drop the requireFailure link. it does not remove the link on the other recognizer.
     * @param {Recognizer} otherRecognizer
     * @returns {Recognizer} this
     */
    dropRequireFailure: function(otherRecognizer) {
        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {
            return this;
        }

        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
        var index = inArray(this.requireFail, otherRecognizer);
        if (index > -1) {
            this.requireFail.splice(index, 1);
        }
        return this;
    },

    /**
     * has require failures boolean
     * @returns {boolean}
     */
    hasRequireFailures: function() {
        return this.requireFail.length > 0;
    },

    /**
     * if the recognizer can recognize simultaneous with an other recognizer
     * @param {Recognizer} otherRecognizer
     * @returns {Boolean}
     */
    canRecognizeWith: function(otherRecognizer) {
        return !!this.simultaneous[otherRecognizer.id];
    },

    /**
     * You should use `tryEmit` instead of `emit` directly to check
     * that all the needed recognizers has failed before emitting.
     * @param {Object} input
     */
    emit: function(input) {
        var self = this;
        var state = this.state;

        function emit(event) {
            self.manager.emit(event, input);
        }

        // 'panstart' and 'panmove'
        if (state < STATE_ENDED) {
            emit(self.options.event + stateStr(state));
        }

        emit(self.options.event); // simple 'eventName' events

        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)
            emit(input.additionalEvent);
        }

        // panend and pancancel
        if (state >= STATE_ENDED) {
            emit(self.options.event + stateStr(state));
        }
    },

    /**
     * Check that all the require failure recognizers has failed,
     * if true, it emits a gesture event,
     * otherwise, setup the state to FAILED.
     * @param {Object} input
     */
    tryEmit: function(input) {
        if (this.canEmit()) {
            return this.emit(input);
        }
        // it's failing anyway
        this.state = STATE_FAILED;
    },

    /**
     * can we emit?
     * @returns {boolean}
     */
    canEmit: function() {
        var i = 0;
        while (i < this.requireFail.length) {
            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {
                return false;
            }
            i++;
        }
        return true;
    },

    /**
     * update the recognizer
     * @param {Object} inputData
     */
    recognize: function(inputData) {
        // make a new copy of the inputData
        // so we can change the inputData without messing up the other recognizers
        var inputDataClone = assign({}, inputData);

        // is is enabled and allow recognizing?
        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {
            this.reset();
            this.state = STATE_FAILED;
            return;
        }

        // reset when we've reached the end
        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {
            this.state = STATE_POSSIBLE;
        }

        this.state = this.process(inputDataClone);

        // the recognizer has recognized a gesture
        // so trigger an event
        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {
            this.tryEmit(inputDataClone);
        }
    },

    /**
     * return the state of the recognizer
     * the actual recognizing happens in this method
     * @virtual
     * @param {Object} inputData
     * @returns {Const} STATE
     */
    process: function(inputData) { }, // jshint ignore:line

    /**
     * return the preferred touch-action
     * @virtual
     * @returns {Array}
     */
    getTouchAction: function() { },

    /**
     * called when the gesture isn't allowed to recognize
     * like when another is being recognized or it is disabled
     * @virtual
     */
    reset: function() { }
};

/**
 * get a usable string, used as event postfix
 * @param {Const} state
 * @returns {String} state
 */
function stateStr(state) {
    if (state & STATE_CANCELLED) {
        return 'cancel';
    } else if (state & STATE_ENDED) {
        return 'end';
    } else if (state & STATE_CHANGED) {
        return 'move';
    } else if (state & STATE_BEGAN) {
        return 'start';
    }
    return '';
}

/**
 * direction cons to string
 * @param {Const} direction
 * @returns {String}
 */
function directionStr(direction) {
    if (direction == DIRECTION_DOWN) {
        return 'down';
    } else if (direction == DIRECTION_UP) {
        return 'up';
    } else if (direction == DIRECTION_LEFT) {
        return 'left';
    } else if (direction == DIRECTION_RIGHT) {
        return 'right';
    }
    return '';
}

/**
 * get a recognizer by name if it is bound to a manager
 * @param {Recognizer|String} otherRecognizer
 * @param {Recognizer} recognizer
 * @returns {Recognizer}
 */
function getRecognizerByNameIfManager(otherRecognizer, recognizer) {
    var manager = recognizer.manager;
    if (manager) {
        return manager.get(otherRecognizer);
    }
    return otherRecognizer;
}

/**
 * This recognizer is just used as a base for the simple attribute recognizers.
 * @constructor
 * @extends Recognizer
 */
function AttrRecognizer() {
    Recognizer.apply(this, arguments);
}

inherit(AttrRecognizer, Recognizer, {
    /**
     * @namespace
     * @memberof AttrRecognizer
     */
    defaults: {
        /**
         * @type {Number}
         * @default 1
         */
        pointers: 1
    },

    /**
     * Used to check if it the recognizer receives valid input, like input.distance > 10.
     * @memberof AttrRecognizer
     * @param {Object} input
     * @returns {Boolean} recognized
     */
    attrTest: function(input) {
        var optionPointers = this.options.pointers;
        return optionPointers === 0 || input.pointers.length === optionPointers;
    },

    /**
     * Process the input and return the state for the recognizer
     * @memberof AttrRecognizer
     * @param {Object} input
     * @returns {*} State
     */
    process: function(input) {
        var state = this.state;
        var eventType = input.eventType;

        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);
        var isValid = this.attrTest(input);

        // on cancel input and we've recognized before, return STATE_CANCELLED
        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {
            return state | STATE_CANCELLED;
        } else if (isRecognized || isValid) {
            if (eventType & INPUT_END) {
                return state | STATE_ENDED;
            } else if (!(state & STATE_BEGAN)) {
                return STATE_BEGAN;
            }
            return state | STATE_CHANGED;
        }
        return STATE_FAILED;
    }
});

/**
 * Pan
 * Recognized when the pointer is down and moved in the allowed direction.
 * @constructor
 * @extends AttrRecognizer
 */
function PanRecognizer() {
    AttrRecognizer.apply(this, arguments);

    this.pX = null;
    this.pY = null;
}

inherit(PanRecognizer, AttrRecognizer, {
    /**
     * @namespace
     * @memberof PanRecognizer
     */
    defaults: {
        event: 'pan',
        threshold: 10,
        pointers: 1,
        direction: DIRECTION_ALL
    },

    getTouchAction: function() {
        var direction = this.options.direction;
        var actions = [];
        if (direction & DIRECTION_HORIZONTAL) {
            actions.push(TOUCH_ACTION_PAN_Y);
        }
        if (direction & DIRECTION_VERTICAL) {
            actions.push(TOUCH_ACTION_PAN_X);
        }
        return actions;
    },

    directionTest: function(input) {
        var options = this.options;
        var hasMoved = true;
        var distance = input.distance;
        var direction = input.direction;
        var x = input.deltaX;
        var y = input.deltaY;

        // lock to axis?
        if (!(direction & options.direction)) {
            if (options.direction & DIRECTION_HORIZONTAL) {
                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;
                hasMoved = x != this.pX;
                distance = Math.abs(input.deltaX);
            } else {
                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;
                hasMoved = y != this.pY;
                distance = Math.abs(input.deltaY);
            }
        }
        input.direction = direction;
        return hasMoved && distance > options.threshold && direction & options.direction;
    },

    attrTest: function(input) {
        return AttrRecognizer.prototype.attrTest.call(this, input) &&
            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));
    },

    emit: function(input) {

        this.pX = input.deltaX;
        this.pY = input.deltaY;

        var direction = directionStr(input.direction);

        if (direction) {
            input.additionalEvent = this.options.event + direction;
        }
        this._super.emit.call(this, input);
    }
});

/**
 * Pinch
 * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).
 * @constructor
 * @extends AttrRecognizer
 */
function PinchRecognizer() {
    AttrRecognizer.apply(this, arguments);
}

inherit(PinchRecognizer, AttrRecognizer, {
    /**
     * @namespace
     * @memberof PinchRecognizer
     */
    defaults: {
        event: 'pinch',
        threshold: 0,
        pointers: 2
    },

    getTouchAction: function() {
        return [TOUCH_ACTION_NONE];
    },

    attrTest: function(input) {
        return this._super.attrTest.call(this, input) &&
            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);
    },

    emit: function(input) {
        if (input.scale !== 1) {
            var inOut = input.scale < 1 ? 'in' : 'out';
            input.additionalEvent = this.options.event + inOut;
        }
        this._super.emit.call(this, input);
    }
});

/**
 * Press
 * Recognized when the pointer is down for x ms without any movement.
 * @constructor
 * @extends Recognizer
 */
function PressRecognizer() {
    Recognizer.apply(this, arguments);

    this._timer = null;
    this._input = null;
}

inherit(PressRecognizer, Recognizer, {
    /**
     * @namespace
     * @memberof PressRecognizer
     */
    defaults: {
        event: 'press',
        pointers: 1,
        time: 251, // minimal time of the pointer to be pressed
        threshold: 9 // a minimal movement is ok, but keep it low
    },

    getTouchAction: function() {
        return [TOUCH_ACTION_AUTO];
    },

    process: function(input) {
        var options = this.options;
        var validPointers = input.pointers.length === options.pointers;
        var validMovement = input.distance < options.threshold;
        var validTime = input.deltaTime > options.time;

        this._input = input;

        // we only allow little movement
        // and we've reached an end event, so a tap is possible
        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {
            this.reset();
        } else if (input.eventType & INPUT_START) {
            this.reset();
            this._timer = setTimeoutContext(function() {
                this.state = STATE_RECOGNIZED;
                this.tryEmit();
            }, options.time, this);
        } else if (input.eventType & INPUT_END) {
            return STATE_RECOGNIZED;
        }
        return STATE_FAILED;
    },

    reset: function() {
        clearTimeout(this._timer);
    },

    emit: function(input) {
        if (this.state !== STATE_RECOGNIZED) {
            return;
        }

        if (input && (input.eventType & INPUT_END)) {
            this.manager.emit(this.options.event + 'up', input);
        } else {
            this._input.timeStamp = now();
            this.manager.emit(this.options.event, this._input);
        }
    }
});

/**
 * Rotate
 * Recognized when two or more pointer are moving in a circular motion.
 * @constructor
 * @extends AttrRecognizer
 */
function RotateRecognizer() {
    AttrRecognizer.apply(this, arguments);
}

inherit(RotateRecognizer, AttrRecognizer, {
    /**
     * @namespace
     * @memberof RotateRecognizer
     */
    defaults: {
        event: 'rotate',
        threshold: 0,
        pointers: 2
    },

    getTouchAction: function() {
        return [TOUCH_ACTION_NONE];
    },

    attrTest: function(input) {
        return this._super.attrTest.call(this, input) &&
            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);
    }
});

/**
 * Swipe
 * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.
 * @constructor
 * @extends AttrRecognizer
 */
function SwipeRecognizer() {
    AttrRecognizer.apply(this, arguments);
}

inherit(SwipeRecognizer, AttrRecognizer, {
    /**
     * @namespace
     * @memberof SwipeRecognizer
     */
    defaults: {
        event: 'swipe',
        threshold: 10,
        velocity: 0.3,
        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,
        pointers: 1
    },

    getTouchAction: function() {
        return PanRecognizer.prototype.getTouchAction.call(this);
    },

    attrTest: function(input) {
        var direction = this.options.direction;
        var velocity;

        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {
            velocity = input.overallVelocity;
        } else if (direction & DIRECTION_HORIZONTAL) {
            velocity = input.overallVelocityX;
        } else if (direction & DIRECTION_VERTICAL) {
            velocity = input.overallVelocityY;
        }

        return this._super.attrTest.call(this, input) &&
            direction & input.offsetDirection &&
            input.distance > this.options.threshold &&
            input.maxPointers == this.options.pointers &&
            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;
    },

    emit: function(input) {
        var direction = directionStr(input.offsetDirection);
        if (direction) {
            this.manager.emit(this.options.event + direction, input);
        }

        this.manager.emit(this.options.event, input);
    }
});

/**
 * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur
 * between the given interval and position. The delay option can be used to recognize multi-taps without firing
 * a single tap.
 *
 * The eventData from the emitted event contains the property `tapCount`, which contains the amount of
 * multi-taps being recognized.
 * @constructor
 * @extends Recognizer
 */
function TapRecognizer() {
    Recognizer.apply(this, arguments);

    // previous time and center,
    // used for tap counting
    this.pTime = false;
    this.pCenter = false;

    this._timer = null;
    this._input = null;
    this.count = 0;
}

inherit(TapRecognizer, Recognizer, {
    /**
     * @namespace
     * @memberof PinchRecognizer
     */
    defaults: {
        event: 'tap',
        pointers: 1,
        taps: 1,
        interval: 300, // max time between the multi-tap taps
        time: 250, // max time of the pointer to be down (like finger on the screen)
        threshold: 9, // a minimal movement is ok, but keep it low
        posThreshold: 10 // a multi-tap can be a bit off the initial position
    },

    getTouchAction: function() {
        return [TOUCH_ACTION_MANIPULATION];
    },

    process: function(input) {
        var options = this.options;

        var validPointers = input.pointers.length === options.pointers;
        var validMovement = input.distance < options.threshold;
        var validTouchTime = input.deltaTime < options.time;

        this.reset();

        if ((input.eventType & INPUT_START) && (this.count === 0)) {
            return this.failTimeout();
        }

        // we only allow little movement
        // and we've reached an end event, so a tap is possible
        if (validMovement && validTouchTime && validPointers) {
            if (input.eventType != INPUT_END) {
                return this.failTimeout();
            }

            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;
            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;

            this.pTime = input.timeStamp;
            this.pCenter = input.center;

            if (!validMultiTap || !validInterval) {
                this.count = 1;
            } else {
                this.count += 1;
            }

            this._input = input;

            // if tap count matches we have recognized it,
            // else it has began recognizing...
            var tapCount = this.count % options.taps;
            if (tapCount === 0) {
                // no failing requirements, immediately trigger the tap event
                // or wait as long as the multitap interval to trigger
                if (!this.hasRequireFailures()) {
                    return STATE_RECOGNIZED;
                } else {
                    this._timer = setTimeoutContext(function() {
                        this.state = STATE_RECOGNIZED;
                        this.tryEmit();
                    }, options.interval, this);
                    return STATE_BEGAN;
                }
            }
        }
        return STATE_FAILED;
    },

    failTimeout: function() {
        this._timer = setTimeoutContext(function() {
            this.state = STATE_FAILED;
        }, this.options.interval, this);
        return STATE_FAILED;
    },

    reset: function() {
        clearTimeout(this._timer);
    },

    emit: function() {
        if (this.state == STATE_RECOGNIZED) {
            this._input.tapCount = this.count;
            this.manager.emit(this.options.event, this._input);
        }
    }
});

/**
 * Simple way to create a manager with a default set of recognizers.
 * @param {HTMLElement} element
 * @param {Object} [options]
 * @constructor
 */
function Hammer(element, options) {
    options = options || {};
    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);
    return new Manager(element, options);
}

/**
 * @const {string}
 */
Hammer.VERSION = '2.0.7';

/**
 * default settings
 * @namespace
 */
Hammer.defaults = {
    /**
     * set if DOM events are being triggered.
     * But this is slower and unused by simple implementations, so disabled by default.
     * @type {Boolean}
     * @default false
     */
    domEvents: false,

    /**
     * The value for the touchAction property/fallback.
     * When set to `compute` it will magically set the correct value based on the added recognizers.
     * @type {String}
     * @default compute
     */
    touchAction: TOUCH_ACTION_COMPUTE,

    /**
     * @type {Boolean}
     * @default true
     */
    enable: true,

    /**
     * EXPERIMENTAL FEATURE -- can be removed/changed
     * Change the parent input target element.
     * If Null, then it is being set the to main element.
     * @type {Null|EventTarget}
     * @default null
     */
    inputTarget: null,

    /**
     * force an input class
     * @type {Null|Function}
     * @default null
     */
    inputClass: null,

    /**
     * Default recognizer setup when calling `Hammer()`
     * When creating a new Manager these will be skipped.
     * @type {Array}
     */
    preset: [
        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]
        [RotateRecognizer, {enable: false}],
        [PinchRecognizer, {enable: false}, ['rotate']],
        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],
        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],
        [TapRecognizer],
        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],
        [PressRecognizer]
    ],

    /**
     * Some CSS properties can be used to improve the working of Hammer.
     * Add them to this method and they will be set when creating a new Manager.
     * @namespace
     */
    cssProps: {
        /**
         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.
         * @type {String}
         * @default 'none'
         */
        userSelect: 'none',

        /**
         * Disable the Windows Phone grippers when pressing an element.
         * @type {String}
         * @default 'none'
         */
        touchSelect: 'none',

        /**
         * Disables the default callout shown when you touch and hold a touch target.
         * On iOS, when you touch and hold a touch target such as a link, Safari displays
         * a callout containing information about the link. This property allows you to disable that callout.
         * @type {String}
         * @default 'none'
         */
        touchCallout: 'none',

        /**
         * Specifies whether zooming is enabled. Used by IE10>
         * @type {String}
         * @default 'none'
         */
        contentZooming: 'none',

        /**
         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.
         * @type {String}
         * @default 'none'
         */
        userDrag: 'none',

        /**
         * Overrides the highlight color shown when the user taps a link or a JavaScript
         * clickable element in iOS. This property obeys the alpha value, if specified.
         * @type {String}
         * @default 'rgba(0,0,0,0)'
         */
        tapHighlightColor: 'rgba(0,0,0,0)'
    }
};

var STOP = 1;
var FORCED_STOP = 2;

/**
 * Manager
 * @param {HTMLElement} element
 * @param {Object} [options]
 * @constructor
 */
function Manager(element, options) {
    this.options = assign({}, Hammer.defaults, options || {});

    this.options.inputTarget = this.options.inputTarget || element;

    this.handlers = {};
    this.session = {};
    this.recognizers = [];
    this.oldCssProps = {};

    this.element = element;
    this.input = createInputInstance(this);
    this.touchAction = new TouchAction(this, this.options.touchAction);

    toggleCssProps(this, true);

    each(this.options.recognizers, function(item) {
        var recognizer = this.add(new (item[0])(item[1]));
        item[2] && recognizer.recognizeWith(item[2]);
        item[3] && recognizer.requireFailure(item[3]);
    }, this);
}

Manager.prototype = {
    /**
     * set options
     * @param {Object} options
     * @returns {Manager}
     */
    set: function(options) {
        assign(this.options, options);

        // Options that need a little more setup
        if (options.touchAction) {
            this.touchAction.update();
        }
        if (options.inputTarget) {
            // Clean up existing event listeners and reinitialize
            this.input.destroy();
            this.input.target = options.inputTarget;
            this.input.init();
        }
        return this;
    },

    /**
     * stop recognizing for this session.
     * This session will be discarded, when a new [input]start event is fired.
     * When forced, the recognizer cycle is stopped immediately.
     * @param {Boolean} [force]
     */
    stop: function(force) {
        this.session.stopped = force ? FORCED_STOP : STOP;
    },

    /**
     * run the recognizers!
     * called by the inputHandler function on every movement of the pointers (touches)
     * it walks through all the recognizers and tries to detect the gesture that is being made
     * @param {Object} inputData
     */
    recognize: function(inputData) {
        var session = this.session;
        if (session.stopped) {
            return;
        }

        // run the touch-action polyfill
        this.touchAction.preventDefaults(inputData);

        var recognizer;
        var recognizers = this.recognizers;

        // this holds the recognizer that is being recognized.
        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED
        // if no recognizer is detecting a thing, it is set to `null`
        var curRecognizer = session.curRecognizer;

        // reset when the last recognizer is recognized
        // or when we're in a new session
        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {
            curRecognizer = session.curRecognizer = null;
        }

        var i = 0;
        while (i < recognizers.length) {
            recognizer = recognizers[i];

            // find out if we are allowed try to recognize the input for this one.
            // 1.   allow if the session is NOT forced stopped (see the .stop() method)
            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one
            //      that is being recognized.
            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.
            //      this can be setup with the `recognizeWith()` method on the recognizer.
            if (session.stopped !== FORCED_STOP && ( // 1
                    !curRecognizer || recognizer == curRecognizer || // 2
                    recognizer.canRecognizeWith(curRecognizer))) { // 3
                recognizer.recognize(inputData);
            } else {
                recognizer.reset();
            }

            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the
            // current active recognizer. but only if we don't already have an active recognizer
            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {
                curRecognizer = session.curRecognizer = recognizer;
            }
            i++;
        }
    },

    /**
     * get a recognizer by its event name.
     * @param {Recognizer|String} recognizer
     * @returns {Recognizer|Null}
     */
    get: function(recognizer) {
        if (recognizer instanceof Recognizer) {
            return recognizer;
        }

        var recognizers = this.recognizers;
        for (var i = 0; i < recognizers.length; i++) {
            if (recognizers[i].options.event == recognizer) {
                return recognizers[i];
            }
        }
        return null;
    },

    /**
     * add a recognizer to the manager
     * existing recognizers with the same event name will be removed
     * @param {Recognizer} recognizer
     * @returns {Recognizer|Manager}
     */
    add: function(recognizer) {
        if (invokeArrayArg(recognizer, 'add', this)) {
            return this;
        }

        // remove existing
        var existing = this.get(recognizer.options.event);
        if (existing) {
            this.remove(existing);
        }

        this.recognizers.push(recognizer);
        recognizer.manager = this;

        this.touchAction.update();
        return recognizer;
    },

    /**
     * remove a recognizer by name or instance
     * @param {Recognizer|String} recognizer
     * @returns {Manager}
     */
    remove: function(recognizer) {
        if (invokeArrayArg(recognizer, 'remove', this)) {
            return this;
        }

        recognizer = this.get(recognizer);

        // let's make sure this recognizer exists
        if (recognizer) {
            var recognizers = this.recognizers;
            var index = inArray(recognizers, recognizer);

            if (index !== -1) {
                recognizers.splice(index, 1);
                this.touchAction.update();
            }
        }

        return this;
    },

    /**
     * bind event
     * @param {String} events
     * @param {Function} handler
     * @returns {EventEmitter} this
     */
    on: function(events, handler) {
        if (events === undefined) {
            return;
        }
        if (handler === undefined) {
            return;
        }

        var handlers = this.handlers;
        each(splitStr(events), function(event) {
            handlers[event] = handlers[event] || [];
            handlers[event].push(handler);
        });
        return this;
    },

    /**
     * unbind event, leave emit blank to remove all handlers
     * @param {String} events
     * @param {Function} [handler]
     * @returns {EventEmitter} this
     */
    off: function(events, handler) {
        if (events === undefined) {
            return;
        }

        var handlers = this.handlers;
        each(splitStr(events), function(event) {
            if (!handler) {
                delete handlers[event];
            } else {
                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);
            }
        });
        return this;
    },

    /**
     * emit event to the listeners
     * @param {String} event
     * @param {Object} data
     */
    emit: function(event, data) {
        // we also want to trigger dom events
        if (this.options.domEvents) {
            triggerDomEvent(event, data);
        }

        // no handlers, so skip it all
        var handlers = this.handlers[event] && this.handlers[event].slice();
        if (!handlers || !handlers.length) {
            return;
        }

        data.type = event;
        data.preventDefault = function() {
            data.srcEvent.preventDefault();
        };

        var i = 0;
        while (i < handlers.length) {
            handlers[i](data);
            i++;
        }
    },

    /**
     * destroy the manager and unbinds all events
     * it doesn't unbind dom events, that is the user own responsibility
     */
    destroy: function() {
        this.element && toggleCssProps(this, false);

        this.handlers = {};
        this.session = {};
        this.input.destroy();
        this.element = null;
    }
};

/**
 * add/remove the css properties as defined in manager.options.cssProps
 * @param {Manager} manager
 * @param {Boolean} add
 */
function toggleCssProps(manager, add) {
    var element = manager.element;
    if (!element.style) {
        return;
    }
    var prop;
    each(manager.options.cssProps, function(value, name) {
        prop = prefixed(element.style, name);
        if (add) {
            manager.oldCssProps[prop] = element.style[prop];
            element.style[prop] = value;
        } else {
            element.style[prop] = manager.oldCssProps[prop] || '';
        }
    });
    if (!add) {
        manager.oldCssProps = {};
    }
}

/**
 * trigger dom event
 * @param {String} event
 * @param {Object} data
 */
function triggerDomEvent(event, data) {
    var gestureEvent = document.createEvent('Event');
    gestureEvent.initEvent(event, true, true);
    gestureEvent.gesture = data;
    data.target.dispatchEvent(gestureEvent);
}

assign(Hammer, {
    INPUT_START: INPUT_START,
    INPUT_MOVE: INPUT_MOVE,
    INPUT_END: INPUT_END,
    INPUT_CANCEL: INPUT_CANCEL,

    STATE_POSSIBLE: STATE_POSSIBLE,
    STATE_BEGAN: STATE_BEGAN,
    STATE_CHANGED: STATE_CHANGED,
    STATE_ENDED: STATE_ENDED,
    STATE_RECOGNIZED: STATE_RECOGNIZED,
    STATE_CANCELLED: STATE_CANCELLED,
    STATE_FAILED: STATE_FAILED,

    DIRECTION_NONE: DIRECTION_NONE,
    DIRECTION_LEFT: DIRECTION_LEFT,
    DIRECTION_RIGHT: DIRECTION_RIGHT,
    DIRECTION_UP: DIRECTION_UP,
    DIRECTION_DOWN: DIRECTION_DOWN,
    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,
    DIRECTION_VERTICAL: DIRECTION_VERTICAL,
    DIRECTION_ALL: DIRECTION_ALL,

    Manager: Manager,
    Input: Input,
    TouchAction: TouchAction,

    TouchInput: TouchInput,
    MouseInput: MouseInput,
    PointerEventInput: PointerEventInput,
    TouchMouseInput: TouchMouseInput,
    SingleTouchInput: SingleTouchInput,

    Recognizer: Recognizer,
    AttrRecognizer: AttrRecognizer,
    Tap: TapRecognizer,
    Pan: PanRecognizer,
    Swipe: SwipeRecognizer,
    Pinch: PinchRecognizer,
    Rotate: RotateRecognizer,
    Press: PressRecognizer,

    on: addEventListeners,
    off: removeEventListeners,
    each: each,
    merge: merge,
    extend: extend,
    assign: assign,
    inherit: inherit,
    bindFn: bindFn,
    prefixed: prefixed
});

// this prevents errors when Hammer is loaded in the presence of an AMD
//  style loader but by script tag, not by the loader.
var freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line
freeGlobal.Hammer = Hammer;

if (true) {
    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function() {
        return Hammer;
    }).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
} else {}

})(window, document, 'Hammer');


/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html":
/*!**************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-app>\n    <ion-menu side=\"start\" contentId=\"content\" menu-id=\"generic-menu\">\n        <ion-header>\n            <ion-toolbar translucent>\n                <ion-title>Menu</ion-title>\n            </ion-toolbar>\n        </ion-header>\n        <ion-content>\n            <ion-list>\n                <ion-item>\n                    <ion-icon name=\"home\" slot=\"start\"></ion-icon>\n                    <ion-label>Home</ion-label>\n                </ion-item>\n                <ion-item>\n                    <ion-icon name=\"person\" slot=\"start\"></ion-icon>\n                    <ion-label>Profile</ion-label>\n                </ion-item>\n                <ion-item>\n                    <ion-icon name=\"chatbubbles\" slot=\"start\"></ion-icon>\n                    <ion-label>Messages</ion-label>\n                </ion-item>\n                <ion-item>\n                    <ion-icon name=\"settings\" slot=\"start\"></ion-icon>\n                    <ion-label>Settings</ion-label>\n                </ion-item>\n            </ion-list>\n        </ion-content>\n    </ion-menu>\n\n    <ion-menu side=\"start\" contentId=\"content\" menu-id=\"ebook-menu\">\n        <ebook-menu></ebook-menu>\n    </ion-menu>\n\n    <ion-menu side=\"start\" contentId=\"content\" menu-id=\"my-books-menu\">\n        <app-my-books-menu></app-my-books-menu>\n    </ion-menu>\n\n\n    <ion-router-outlet id=\"content\"></ion-router-outlet>\n</ion-app>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-control-settings/ebook-control-settings.component.html":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-control-settings/ebook-control-settings.component.html ***!
  \*********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n    <ion-toolbar>\n        <ion-title>Control Settings</ion-title>\n        <ion-buttons slot=\"primary\">\n            <ion-button (click)=\"dismissModal(null)\">\n                <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n    <ion-list>\n        <ion-item-group>\n            <ion-item-divider>\n                <ion-label>Controls</ion-label>\n            </ion-item-divider>\n\n            <ion-item>\n                <ion-label>Show navigation controls</ion-label>\n                <ion-checkbox color=\"danger\" [checked]=\"showNavigationControls\"\n                              (ionChange)=\"navigationControlChanged($event)\"></ion-checkbox>\n            </ion-item>\n        </ion-item-group>\n    </ion-list>\n</ion-content>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-menu/bookmarks-list/bookmarks-list.component.html":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-menu/bookmarks-list/bookmarks-list.component.html ***!
  \****************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n    <ion-toolbar>\n        <ion-title>Bookmarks</ion-title>\n        <ion-buttons slot=\"primary\">\n            <ion-button (click)=\"dismissModal(null)\">\n                <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content class=\"ion-padding\">\n    <ion-list *ngIf=\"bookmarksDTOList.length > 0\">\n        <ion-item *ngFor=\"let bookMark of bookmarksDTOList\">\n            <ion-label (click)=\"dismissModal(bookMark.cfi)\">{{bookMark.percentage}} % of book</ion-label>\n        </ion-item>\n    </ion-list>\n</ion-content>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-menu/ebook-menu.component.html":
/*!*********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-menu/ebook-menu.component.html ***!
  \*********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<div *ngIf=\"bookDTO != null\">\n    <ion-header>\n        <ion-toolbar translucent>\n            <ion-title>{{bookDTO.title}}</ion-title>\n            <ion-buttons slot=\"end\">\n                <ion-button (click)=\"viewBookMarks()\">\n                    <ion-icon name=\"bookmark\" style=\"float: right;\"></ion-icon>\n                </ion-button>\n            </ion-buttons>\n        </ion-toolbar>\n    </ion-header>\n    <ion-list *ngIf=\"ePub && ePub.navigation\">\n        <ion-item *ngFor=\"let chapter of ePub.navigation.toc\" (click)=\"goToChapter(chapter)\" menuClose>\n            <ion-label>{{chapter.label}}</ion-label>\n        </ion-item>\n    </ion-list>\n</div>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-preferences/ebook-preferences.component.html":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-preferences/ebook-preferences.component.html ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-list>\n  <ion-item>\n    <ion-label (click)=\"openVisualSettings()\">Visual Settings</ion-label>\n  </ion-item>\n  <ion-item>\n    <ion-label (click)=\"openControlSettings()\">Control Settings</ion-label>\n  </ion-item>\n</ion-list>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-reader.component.html":
/*!************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-reader.component.html ***!
  \************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header #toolbarHeader *ngIf=\"bookDTO != null && showHideToolbar\" style=\"z-index: 99999;position: absolute;\">\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-menu-button></ion-menu-button>\n            <ion-button (click)=\"goBack()\">\n                <ion-icon name=\"arrow-back\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n        <ion-title>{{bookDTO.title}}</ion-title>\n        <ion-buttons slot=\"end\" style=\"margin-right: 1%;\">\n            <ion-button (click)=\"setUnsetBookmark()\" style=\"margin-right: 2%;\">\n                <ion-icon name=\"bookmark\"\n                          [style.opacity]=\"isBookmarkSet ? '1' : '0.2'\"></ion-icon>\n            </ion-button>\n            <ion-icon name=\"menu\" (click)=\"presentPopover($event)\"></ion-icon>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n\n<main role=\"main\" #mainContent id=\"main\">\n    <div id=\"book\"></div>\n</main>\n\n\n<footer class=\"footer\" #footer>\n    <ion-toolbar>\n        <ion-row>\n            <ion-col width-18 style=\"text-align: left\" *ngIf=\"showNavigationControl\">\n                <ion-icon name=\"arrow-dropleft-circle\" (click)=\"move(0)\" size=\"large\"></ion-icon>\n            </ion-col>\n            <ion-col width-15 style=\"text-align: center\">\n                {{progress}}%\n            </ion-col>\n            <ion-col width-33 style=\"text-align: center\">\n                <ion-icon name=\"radio-button-on\" size=\"large\" (click)=\"showHideToolbarClick()\"></ion-icon>\n            </ion-col>\n            <ion-col width-15 style=\"text-align: center\">\n               <!-- {{currentPage}} of {{totalPageNo}}-->\n            </ion-col>\n            <ion-col width-18 style=\"text-align: right\" *ngIf=\"showNavigationControl\">\n                <ion-icon name=\"arrow-dropright-circle\" (click)=\"move(1)\" size=\"large\"></ion-icon>\n            </ion-col>\n        </ion-row>\n    </ion-toolbar>\n</footer>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-visual-settings/ebook-visual-settings.component.html":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-visual-settings/ebook-visual-settings.component.html ***!
  \*******************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n    <ion-toolbar>\n        <ion-title>Visual Settings</ion-title>\n        <ion-buttons slot=\"primary\">\n            <ion-button (click)=\"dismissModal(null)\">\n                <ion-icon slot=\"icon-only\" name=\"close\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content *ngIf=\"shouldRender\">\n    <ion-list>\n        <ion-item-group>\n            <ion-item-divider>\n                <ion-label>Font</ion-label>\n            </ion-item-divider>\n\n            <ion-item>\n                <ion-label>\n                    Size\n                </ion-label>\n                <ion-range min=\"10\" max=\"200\" color=\"secondary\" step=\"10\" (ionChange)=\"selectionChanged($event)\"\n                           pin=\"true\"\n                           snaps=\"true\" value=\"{{selectedFont}}\">\n                    <ion-label slot=\"start\">10%</ion-label>\n                    <ion-label slot=\"end\">200%</ion-label>\n                </ion-range>\n            </ion-item>\n        </ion-item-group>\n\n        <ion-item-group>\n            <ion-item-divider>\n                <ion-label>Theme</ion-label>\n            </ion-item-divider>\n            <ion-item>\n                <ion-label>Text Color</ion-label>\n                <app-color-chooser [selectedColor]=\"textColor\"\n                                   (colorChoosed)=\"textColorChanged($event)\"></app-color-chooser>\n            </ion-item>\n            <ion-item>\n                <ion-label>Background Color</ion-label>\n                <app-color-chooser [selectedColor]=\"backgroundColor\"\n                                   (colorChoosed)=\"backgroundColorChanged($event)\"></app-color-chooser>\n            </ion-item>\n            <ion-item>\n                <ion-label>Bold</ion-label>\n                <ion-checkbox color=\"danger\" [checked]=\"textBold\" (ionChange)=\"boldChanged($event)\"></ion-checkbox>\n            </ion-item>\n            <ion-item>\n                <ion-label>Italic</ion-label>\n                <ion-checkbox color=\"danger\" [checked]=\"textItalic\" (ionChange)=\"italicChanged($event)\"></ion-checkbox>\n            </ion-item>\n            <ion-item>\n                <ion-label>\n                    Predefined Themes\n                </ion-label>\n                <ion-select (ionChange)=\"themeChanged($event)\">\n                    <ion-select-option *ngFor=\"let theme of themes\" [value]=\"theme.value\"\n                                       [selected]=\"selectedTheme == theme.value\">{{theme.name}}\n                    </ion-select-option>\n                </ion-select>\n            </ion-item>\n        </ion-item-group>\n    </ion-list>\n</ion-content>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/book-popover/book-popover.component.html":
/*!******************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/book-popover/book-popover.component.html ***!
  \******************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-list *ngIf=\"bookDTO\">\n    <ion-item>\n        <ion-label *ngIf=\"!isFavoriteBook()\" (click)=\"setFavorites(true)\">Add to favorites</ion-label>\n        <ion-label *ngIf=\"isFavoriteBook()\" (click)=\"setFavorites(false)\">Remove from favorites</ion-label>\n    </ion-item>\n    <ion-item>\n        <ion-label (click)=\"deleteBook()\">Delete</ion-label>\n    </ion-item>\n    <ion-item>\n        <ion-label (click)=\"shareBook()\">Share</ion-label>\n    </ion-item>\n</ion-list>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/my-books-menu/my-books-menu.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/my-books-menu/my-books-menu.component.html ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n    <ion-toolbar translucent>\n        <ion-title>My Books menu</ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-list>\n    <ion-item>\n        <label for=\"files\">Add Books</label>\n        <input type=\"file\" ngFileSelect [options]=\"options\" (uploadOutput)=\"onUploadOutput($event)\"\n               multiple id=\"files\" style=\"display: none\">\n    </ion-item>\n    <ion-item>\n        <ion-label (click)=\"openPeople()\">People</ion-label>\n    </ion-item>\n    <ion-item>\n        <ion-label (click)=\"openPendingInvites()\">Pending invites</ion-label>\n    </ion-item>\n    <ion-item>\n        <ion-label (click)=\"openMyConnections()\">My Connections</ion-label>\n    </ion-item>\n</ion-list>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/share-book/share-book.component.html":
/*!**************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/share-book/share-book.component.html ***!
  \**************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header translucent>\n    <ion-toolbar>\n        <ion-title>Share Book</ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-button (click)=\"dismissModal()\">Close</ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <ion-list *ngIf=\"isOkToRender\">\n        <ion-item *ngFor=\"let user of connections\">\n            <ion-label>{{user.username}}</ion-label>\n            <ion-button (click)=\"shareWithUser(user)\">Share\n            </ion-button>\n        </ion-item>\n    </ion-list>\n</ion-content>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/shelf-page.component.html":
/*!***************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/shelf-page.component.html ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-menu-button></ion-menu-button>\n\n            <ion-select (ionChange)=\"selectionChanged($event)\">\n                <ion-select-option value=\"0\" [selected]=\"true\">All Books</ion-select-option>\n                <ion-select-option value=\"1\">Favorites</ion-select-option>\n                <ion-select-option value=\"2\">Shared with me</ion-select-option>\n            </ion-select>\n        </ion-buttons>\n        <ion-buttons slot=\"end\" style=\"margin-right: 5%;\">\n            <ion-icon name=\"menu\" (click)=\"presentPopover($event)\"></ion-icon>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n    <ion-refresher slot=\"fixed\" (ionRefresh)=\"doRefresh($event)\">\n        <ion-refresher-content></ion-refresher-content>\n    </ion-refresher>\n    <ion-searchbar animated showCancelButton=\"never\" autocomplete=\"true\" (ionInput)=\"searchInputChanged($event)\"\n                   (ionChange)=\"searchChanged($event)\"></ion-searchbar>\n    <ion-list *ngIf=\"filteredBooks && !areSharedBooks\">\n        <ion-item *ngFor=\"let book of filteredBooks\">\n            <!--<ion-avatar slot=\"start\">\n                <img src=\"./avatar-finn.png\">\n            </ion-avatar>-->\n            <ion-label (click)=\"openBook(book)\">{{book.fileName}}</ion-label>\n            <ion-icon name=\"menu\" (click)=\"showBookPopover($event, book)\"></ion-icon>\n        </ion-item>\n    </ion-list>\n\n    <ion-list *ngIf=\"areSharedBooks\">\n        <ion-item *ngFor=\"let sharedBook of sharedBooks\">\n            <!--<ion-avatar slot=\"start\">\n                <img src=\"./avatar-finn.png\">\n            </ion-avatar>-->\n            <ion-label (click)=\"openBook(sharedBook.bookDTO)\">{{sharedBook.bookDTO.fileName}} by\n                {{connectionMap.get(sharedBook.fromUser).username}}\n            </ion-label>\n            <ion-icon name=\"menu\" (click)=\"showBookPopover($event, book)\"></ion-icon>\n        </ion-item>\n    </ion-list>\n</ion-content>\n");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/user-settings/user-settings.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/user-settings/user-settings.component.html ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-list *ngIf=\"userDTO\">\n    <ion-item>\n        <ion-label (click)=\"logOut()\">\n            Log Out\n        </ion-label>\n    </ion-item>\n    <ion-item>\n        <ion-label>Open Last</ion-label>\n        <ion-checkbox slot=\"end\" color=\"danger\"  [checked]=\"userDTO.goToLastRead\" (click)=\"setOpenLastRead()\"></ion-checkbox>\n    </ion-item>\n</ion-list>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/social/my-connections/my-connections.component.html":
/*!***********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/social/my-connections/my-connections.component.html ***!
  \***********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header translucent>\n    <ion-toolbar>\n        <ion-title>My Connections</ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-button (click)=\"dismissModal()\">Close</ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <ion-list *ngIf=\"isOkToRender\">\n        <ion-item *ngFor=\"let connectionUser of connections\">\n            <ion-label>{{connectionUser.username}}\n            </ion-label>\n        </ion-item>\n    </ion-list>\n</ion-content>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/social/pending-connections/pending-connections.component.html":
/*!*********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/social/pending-connections/pending-connections.component.html ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header translucent>\n    <ion-toolbar>\n        <ion-title>Connections</ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-button (click)=\"dismissModal()\">Close</ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <ion-list *ngIf=\"isOkToRender\">\n        <ion-item *ngFor=\"let connection of receivedConnections\">\n            <ion-label>{{usersMap.get(connection.firstUserId).username}}</ion-label>\n            <ion-button (click)=\"acceptInvite(connection)\">Accept Invite</ion-button>\n        </ion-item>\n    </ion-list>\n    <ion-label *ngIf=\"!isOkToRender\">\n        No pending invites\n    </ion-label>\n</ion-content>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/social/people/people.component.html":
/*!*******************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/social/people/people.component.html ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-header translucent>\n    <ion-toolbar>\n        <ion-title>People</ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-button (click)=\"dismissModal()\">Close</ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <ion-searchbar animated showCancelButton=\"never\" autocomplete=\"true\"></ion-searchbar>\n    <ion-list *ngIf=\"usersDTO!= null && myPendingConnections != null\">\n        <ion-item *ngFor=\"let user of usersDTO\">\n            <ion-label>{{user.username}}</ion-label>\n            <ion-button (click)=\"sendInvite(user)\" [disabled]=\"checkInvitationSent(user)\">{{checkInvitationSent(user) ?\n                'Invitation Sent':'Send Invite'}}\n            </ion-button>\n        </ion-item>\n    </ion-list>\n</ion-content>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/utils/color-chooser/color-chooser.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/utils/color-chooser/color-chooser.component.html ***!
  \********************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-item (click)=\"openPallete($event)\">\n    <button class=\"color-chooser-button\" ion-button [style.backgroundColor]=\"selectedColor\">Change color</button>\n</ion-item>");

/***/ }),

/***/ "./node_modules/raw-loader/dist/cjs.js!./src/app/utils/color-chooser/color-pallete/color-pallete.component.html":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/raw-loader/dist/cjs.js!./src/app/utils/color-chooser/color-pallete/color-pallete.component.html ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("<ion-grid class=\"pallete-grid\">\n    <ion-row>\n        <ion-col style=\"background:#330000\" (tap)=\"setColor('#330000')\">\n            <div>col</div>\n        </ion-col>\n        <ion-col style=\"background:#331900\" (tap)=\"setColor('#331900')\"></ion-col>\n        <ion-col style=\"background:#333300\" (tap)=\"setColor('#333300')\"></ion-col>\n        <ion-col style=\"background:#193300\" (tap)=\"setColor('#193300')\"></ion-col>\n        <ion-col style=\"background:#003300\" (tap)=\"setColor('#003300')\"></ion-col>\n        <ion-col style=\"background:#003319\" (tap)=\"setColor('#003319')\"></ion-col>\n        <ion-col style=\"background:#003333\" (tap)=\"setColor('#003333')\"></ion-col>\n        <ion-col style=\"background:#001933\" (tap)=\"setColor('#001933')\"></ion-col>\n        <ion-col style=\"background:#000033\" (tap)=\"setColor('#000033')\"></ion-col>\n        <ion-col style=\"background:#190033\" (tap)=\"setColor('#190033')\"></ion-col>\n        <ion-col style=\"background:#330033\" (tap)=\"setColor('#330033')\"></ion-col>\n        <ion-col style=\"background:#330019\" (tap)=\"setColor('#330019')\"></ion-col>\n        <ion-col style=\"background:#000000\" (tap)=\"setColor('#000000')\"></ion-col>\n    </ion-row>\n    <ion-row>\n        <ion-col style=\"background:#660000\" (tap)=\"setColor('#660000')\"></ion-col>\n        <ion-col style=\"background:#663300\" (tap)=\"setColor('#663300')\"></ion-col>\n        <ion-col style=\"background:#666600\" (tap)=\"setColor('#666600')\"></ion-col>\n        <ion-col style=\"background:#336600\" (tap)=\"setColor('#336600')\"></ion-col>\n        <ion-col style=\"background:#006600\" (tap)=\"setColor('#006600')\"></ion-col>\n        <ion-col style=\"background:#006633\" (tap)=\"setColor('#006633')\"></ion-col>\n        <ion-col style=\"background:#006666\" (tap)=\"setColor('#006666')\"></ion-col>\n        <ion-col style=\"background:#003366\" (tap)=\"setColor('#003366')\"></ion-col>\n        <ion-col style=\"background:#000066\" (tap)=\"setColor('#000066')\"></ion-col>\n        <ion-col style=\"background:#330066\" (tap)=\"setColor('#330066')\"></ion-col>\n        <ion-col style=\"background:#660066\" (tap)=\"setColor('#660066')\"></ion-col>\n        <ion-col style=\"background:#660033\" (tap)=\"setColor('#660033')\"></ion-col>\n        <ion-col style=\"background:#202020\" (tap)=\"setColor('#202020')\"></ion-col>\n    </ion-row>\n    <ion-row>\n        <ion-col style=\"background:#990000\" (tap)=\"setColor('#990000')\"></ion-col>\n        <ion-col style=\"background:#994C00\" (tap)=\"setColor('#994C00')\"></ion-col>\n        <ion-col style=\"background:#999900\" (tap)=\"setColor('#999900')\"></ion-col>\n        <ion-col style=\"background:#4C9900\" (tap)=\"setColor('#4C9900')\"></ion-col>\n        <ion-col style=\"background:#009900\" (tap)=\"setColor('#009900')\"></ion-col>\n        <ion-col style=\"background:#00994C\" (tap)=\"setColor('#00994C')\"></ion-col>\n        <ion-col style=\"background:#009999\" (tap)=\"setColor('#009999')\"></ion-col>\n        <ion-col style=\"background:#004C99\" (tap)=\"setColor('#004C99')\"></ion-col>\n        <ion-col style=\"background:#000099\" (tap)=\"setColor('#000099')\"></ion-col>\n        <ion-col style=\"background:#4C0099\" (tap)=\"setColor('#4C0099')\"></ion-col>\n        <ion-col style=\"background:#990099\" (tap)=\"setColor('#990099')\"></ion-col>\n        <ion-col style=\"background:#99004C\" (tap)=\"setColor('#99004C')\"></ion-col>\n        <ion-col style=\"background:#404040\" (tap)=\"setColor('#404040')\"></ion-col>\n    </ion-row>\n    <ion-row>\n        <ion-col style=\"background:#CC0000\" (tap)=\"setColor('#CC0000')\"></ion-col>\n        <ion-col style=\"background:#CC6600\" (tap)=\"setColor('#CC6600')\"></ion-col>\n        <ion-col style=\"background:#CCCC00\" (tap)=\"setColor('#CCCC00')\"></ion-col>\n        <ion-col style=\"background:#66CC00\" (tap)=\"setColor('#66CC00')\"></ion-col>\n        <ion-col style=\"background:#00CC00\" (tap)=\"setColor('#00CC00')\"></ion-col>\n        <ion-col style=\"background:#00CC66\" (tap)=\"setColor('#00CC66')\"></ion-col>\n        <ion-col style=\"background:#00CCCC\" (tap)=\"setColor('#00CCCC')\"></ion-col>\n        <ion-col style=\"background:#0066CC\" (tap)=\"setColor('#0066CC')\"></ion-col>\n        <ion-col style=\"background:#0000CC\" (tap)=\"setColor('#0000CC')\"></ion-col>\n        <ion-col style=\"background:#6600CC\" (tap)=\"setColor('#6600CC')\"></ion-col>\n        <ion-col style=\"background:#CC00CC\" (tap)=\"setColor('#CC00CC')\"></ion-col>\n        <ion-col style=\"background:#CC0066\" (tap)=\"setColor('#CC0066')\"></ion-col>\n        <ion-col style=\"background:#606060\" (tap)=\"setColor('#606060')\"></ion-col>\n    </ion-row>\n    <ion-row>\n        <ion-col style=\"background:#FF0000\" (tap)=\"setColor('#FF0000')\"></ion-col>\n        <ion-col style=\"background:#FF8000\" (tap)=\"setColor('#FF8000')\"></ion-col>\n        <ion-col style=\"background:#FFFF00\" (tap)=\"setColor('#FFFF00')\"></ion-col>\n        <ion-col style=\"background:#80FF00\" (tap)=\"setColor('#80FF00')\"></ion-col>\n        <ion-col style=\"background:#00FF00\" (tap)=\"setColor('#00FF00')\"></ion-col>\n        <ion-col style=\"background:#00FF80\" (tap)=\"setColor('#00FF80')\"></ion-col>\n        <ion-col style=\"background:#00FFFF\" (tap)=\"setColor('#00FFFF')\"></ion-col>\n        <ion-col style=\"background:#0080FF\" (tap)=\"setColor('#0080FF')\"></ion-col>\n        <ion-col style=\"background:#0000FF\" (tap)=\"setColor('#0000FF')\"></ion-col>\n        <ion-col style=\"background:#7F00FF\" (tap)=\"setColor('#7F00FF')\"></ion-col>\n        <ion-col style=\"background:#FF00FF\" (tap)=\"setColor('#FF00FF')\"></ion-col>\n        <ion-col style=\"background:#FF007F\" (tap)=\"setColor('#FF007F')\"></ion-col>\n        <ion-col style=\"background:#808080\" (tap)=\"setColor('#808080')\"></ion-col>\n    </ion-row>\n    <ion-row>\n        <ion-col style=\"background:#FF3333\" (tap)=\"setColor('#FF3333')\"></ion-col>\n        <ion-col style=\"background:#FF9933\" (tap)=\"setColor('#FF9933')\"></ion-col>\n        <ion-col style=\"background:#FFFF33\" (tap)=\"setColor('#FFFF33')\"></ion-col>\n        <ion-col style=\"background:#99FF33\" (tap)=\"setColor('#99FF33')\"></ion-col>\n        <ion-col style=\"background:#33FF33\" (tap)=\"setColor('#33FF33')\"></ion-col>\n        <ion-col style=\"background:#33FF99\" (tap)=\"setColor('#33FF99')\"></ion-col>\n        <ion-col style=\"background:#33FFFF\" (tap)=\"setColor('#33FFFF')\"></ion-col>\n        <ion-col style=\"background:#3399FF\" (tap)=\"setColor('#3399FF')\"></ion-col>\n        <ion-col style=\"background:#3333FF\" (tap)=\"setColor('#3333FF')\"></ion-col>\n        <ion-col style=\"background:#9933FF\" (tap)=\"setColor('#9933FF')\"></ion-col>\n        <ion-col style=\"background:#FF33FF\" (tap)=\"setColor('#FF33FF')\"></ion-col>\n        <ion-col style=\"background:#FF3399\" (tap)=\"setColor('#FF3399')\"></ion-col>\n        <ion-col style=\"background:#A0A0A0\" (tap)=\"setColor('#A0A0A0')\"></ion-col>\n    </ion-row>\n    <ion-row>\n        <ion-col style=\"background:#FF6666\" (tap)=\"setColor('#FF6666')\"></ion-col>\n        <ion-col style=\"background:#FFB266\" (tap)=\"setColor('#FFB266')\"></ion-col>\n        <ion-col style=\"background:#FFFF66\" (tap)=\"setColor('#FFFF66')\"></ion-col>\n        <ion-col style=\"background:#B2FF66\" (tap)=\"setColor('#B2FF66')\"></ion-col>\n        <ion-col style=\"background:#66FF66\" (tap)=\"setColor('#66FF66')\"></ion-col>\n        <ion-col style=\"background:#66FFB2\" (tap)=\"setColor('#66FFB2')\"></ion-col>\n        <ion-col style=\"background:#66FFFF\" (tap)=\"setColor('#66FFFF')\"></ion-col>\n        <ion-col style=\"background:#66B2FF\" (tap)=\"setColor('#66B2FF')\"></ion-col>\n        <ion-col style=\"background:#6666FF\" (tap)=\"setColor('#6666FF')\"></ion-col>\n        <ion-col style=\"background:#B266FF\" (tap)=\"setColor('#B266FF')\"></ion-col>\n        <ion-col style=\"background:#FF66FF\" (tap)=\"setColor('#FF66FF')\"></ion-col>\n        <ion-col style=\"background:#FF66B2\" (tap)=\"setColor('#FF66B2')\"></ion-col>\n        <ion-col style=\"background:#C0C0C0\" (tap)=\"setColor('#C0C0C0')\"></ion-col>\n    </ion-row>\n    <ion-row>\n        <ion-col style=\"background:#FF9999\" (tap)=\"setColor('#FF9999')\"></ion-col>\n        <ion-col style=\"background:#FFCC99\" (tap)=\"setColor('#FFCC99')\"></ion-col>\n        <ion-col style=\"background:#FFFF99\" (tap)=\"setColor('#FFFF99')\"></ion-col>\n        <ion-col style=\"background:#CCFF99\" (tap)=\"setColor('#CCFF99')\"></ion-col>\n        <ion-col style=\"background:#99FF99\" (tap)=\"setColor('#99FF99')\"></ion-col>\n        <ion-col style=\"background:#99FFCC\" (tap)=\"setColor('#99FFCC')\"></ion-col>\n        <ion-col style=\"background:#99FFFF\" (tap)=\"setColor('#99FFFF')\"></ion-col>\n        <ion-col style=\"background:#99CCFF\" (tap)=\"setColor('#99CCFF')\"></ion-col>\n        <ion-col style=\"background:#9999FF\" (tap)=\"setColor('#9999FF')\"></ion-col>\n        <ion-col style=\"background:#CC99FF\" (tap)=\"setColor('#CC99FF')\"></ion-col>\n        <ion-col style=\"background:#FF99FF\" (tap)=\"setColor('#FF99FF')\"></ion-col>\n        <ion-col style=\"background:#FF99CC\" (tap)=\"setColor('#FF99CC')\"></ion-col>\n        <ion-col style=\"background:#E0E0E0\" (tap)=\"setColor('#E0E0E0')\"></ion-col>\n    </ion-row>\n    <ion-row>\n        <ion-col style=\"background:#FFCCCC\" (tap)=\"setColor('#FFCCCC')\"></ion-col>\n        <ion-col style=\"background:#FFE5CC\" (tap)=\"setColor('#FFE5CC')\"></ion-col>\n        <ion-col style=\"background:#FFFFCC\" (tap)=\"setColor('#FFFFCC')\"></ion-col>\n        <ion-col style=\"background:#E5FFCC\" (tap)=\"setColor('#E5FFCC')\"></ion-col>\n        <ion-col style=\"background:#CCFFCC\" (tap)=\"setColor('#CCFFCC')\"></ion-col>\n        <ion-col style=\"background:#CCFFE5\" (tap)=\"setColor('#CCFFE5')\"></ion-col>\n        <ion-col style=\"background:#CCFFFF\" (tap)=\"setColor('#CCFFFF')\"></ion-col>\n        <ion-col style=\"background:#CCE5FF\" (tap)=\"setColor('#CCE5FF')\"></ion-col>\n        <ion-col style=\"background:#CCCCFF\" (tap)=\"setColor('#CCCCFF')\"></ion-col>\n        <ion-col style=\"background:#E5CCFF\" (tap)=\"setColor('#E5CCFF')\"></ion-col>\n        <ion-col style=\"background:#FFCCFF\" (tap)=\"setColor('#FFCCFF')\"></ion-col>\n        <ion-col style=\"background:#FFCCE5\" (tap)=\"setColor('#FFCCE5')\"></ion-col>\n        <ion-col style=\"background:#FFFFFF\" (tap)=\"setColor('#FFFFFF')\"></ion-col>\n    </ion-row>\n</ion-grid>");

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./auth/auth.module": [
		"./src/app/auth/auth.module.ts",
		"auth-auth-module"
	],
	"./reader/reader.module": [
		"./src/app/reader/reader.module.ts",
		"reader-reader-module"
	],
	"./shelf/shelf.module": [
		"./src/app/shelf/shelf.module.ts"
	]
};
function webpackAsyncContext(req) {
	if(!__webpack_require__.o(map, req)) {
		return Promise.resolve().then(function() {
			var e = new Error("Cannot find module '" + req + "'");
			e.code = 'MODULE_NOT_FOUND';
			throw e;
		});
	}

	var ids = map[req], id = ids[0];
	return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {
		return __webpack_require__(id);
	});
}
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";
module.exports = webpackAsyncContext;

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var routes = [
    { path: '', redirectTo: 'auth', pathMatch: 'full' },
    { path: 'auth', loadChildren: './auth/auth.module#AuthModule' },
    { path: 'reader', loadChildren: './reader/reader.module#ReaderPageModule' },
    { path: 'shelf', loadChildren: './shelf/shelf.module#ShelfPageModule' },
    { path: '**', redirectTo: 'auth' }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
/* harmony import */ var _services_http_parse_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services/http-parse.service */ "./src/app/services/http-parse.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};






var AppComponent = /** @class */ (function () {
    function AppComponent(platform, statusBar, router, appStorageService, httpParseService) {
        this.platform = platform;
        this.statusBar = statusBar;
        this.router = router;
        this.appStorageService = appStorageService;
        this.httpParseService = httpParseService;
        this.initializeApp();
    }
    AppComponent.prototype.initializeApp = function () {
        var _this = this;
        this.statusBar.styleDefault();
        this.platform.ready().then(function () {
            var userDTO = _this.appStorageService.getUserDTO();
            if (userDTO != null && _this.appStorageService.getToken() != null) {
                _this.httpParseService.initApp();
                _this.router.navigate(["/shelf"]);
            }
            else {
                _this.router.navigate(["/auth"]);
            }
        });
    };
    AppComponent.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"] },
        { type: _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_2__["StatusBar"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] },
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_4__["AppStorageService"] },
        { type: _services_http_parse_service__WEBPACK_IMPORTED_MODULE_5__["HttpParseService"] }
    ]; };
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __importDefault(__webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/app.component.html")).default
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_2__["StatusBar"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_4__["AppStorageService"],
            _services_http_parse_service__WEBPACK_IMPORTED_MODULE_5__["HttpParseService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic-native/splash-screen/ngx */ "./node_modules/@ionic-native/splash-screen/ngx/index.js");
/* harmony import */ var _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic-native/status-bar/ngx */ "./node_modules/@ionic-native/status-bar/ngx/index.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _ionic_native_facebook_ngx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @ionic-native/facebook/ngx */ "./node_modules/@ionic-native/facebook/ngx/index.js");
/* harmony import */ var _ionic_native_native_storage_ngx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ionic-native/native-storage/ngx */ "./node_modules/@ionic-native/native-storage/ngx/index.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _ebook_reader_ebook_reader_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ebook-reader/ebook-reader.module */ "./src/app/ebook-reader/ebook-reader.module.ts");
/* harmony import */ var _ebook_reader_ebook_menu_bookmarks_list_bookmarks_list_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ebook-reader/ebook-menu/bookmarks-list/bookmarks-list.component */ "./src/app/ebook-reader/ebook-menu/bookmarks-list/bookmarks-list.component.ts");
/* harmony import */ var _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @ionic-native/file/ngx */ "./node_modules/@ionic-native/file/ngx/index.js");
/* harmony import */ var _ionic_native_file_chooser_ngx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @ionic-native/file-chooser/ngx */ "./node_modules/@ionic-native/file-chooser/ngx/index.js");
/* harmony import */ var _shelf_shelf_module__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./shelf/shelf.module */ "./src/app/shelf/shelf.module.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_service_worker__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/service-worker */ "./node_modules/@angular/service-worker/fesm5/service-worker.js");
/* harmony import */ var _er_local_storage_er_local_storage_module__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./er-local-storage/er-local-storage.module */ "./src/app/er-local-storage/er-local-storage.module.ts");
/* harmony import */ var _services_token_interceptor_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./services/token-interceptor.service */ "./src/app/services/token-interceptor.service.ts");
/* harmony import */ var _services_cache_request_cache__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./services/cache/request-cache */ "./src/app/services/cache/request-cache.ts");
/* harmony import */ var _services_cache_caching_interceptor__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./services/cache/caching-interceptor */ "./src/app/services/cache/caching-interceptor.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};






















var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: [_app_component__WEBPACK_IMPORTED_MODULE_6__["AppComponent"], _ebook_reader_ebook_menu_bookmarks_list_bookmarks_list_component__WEBPACK_IMPORTED_MODULE_12__["BookmarksListComponent"]],
            entryComponents: [_ebook_reader_ebook_menu_bookmarks_list_bookmarks_list_component__WEBPACK_IMPORTED_MODULE_12__["BookmarksListComponent"]],
            imports: [
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"].forRoot(),
                _app_routing_module__WEBPACK_IMPORTED_MODULE_7__["AppRoutingModule"],
                _ionic_storage__WEBPACK_IMPORTED_MODULE_10__["IonicStorageModule"].forRoot(),
                _ebook_reader_ebook_reader_module__WEBPACK_IMPORTED_MODULE_11__["EbookReaderModule"],
                _shelf_shelf_module__WEBPACK_IMPORTED_MODULE_15__["ShelfPageModule"],
                _angular_common_http__WEBPACK_IMPORTED_MODULE_16__["HttpClientModule"],
                _angular_service_worker__WEBPACK_IMPORTED_MODULE_17__["ServiceWorkerModule"].register('ngsw-worker.js', { enabled: true }),
                _er_local_storage_er_local_storage_module__WEBPACK_IMPORTED_MODULE_18__["ErLocalStorageModule"]
            ],
            providers: [
                _ionic_native_status_bar_ngx__WEBPACK_IMPORTED_MODULE_5__["StatusBar"],
                _ionic_native_splash_screen_ngx__WEBPACK_IMPORTED_MODULE_4__["SplashScreen"],
                _ionic_native_native_storage_ngx__WEBPACK_IMPORTED_MODULE_9__["NativeStorage"],
                _ionic_native_facebook_ngx__WEBPACK_IMPORTED_MODULE_8__["Facebook"],
                { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_16__["HTTP_INTERCEPTORS"], useClass: _services_token_interceptor_service__WEBPACK_IMPORTED_MODULE_19__["TokenInterceptorService"], multi: true },
                { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_16__["HTTP_INTERCEPTORS"], useClass: _services_cache_caching_interceptor__WEBPACK_IMPORTED_MODULE_21__["CachingInterceptor"], multi: true },
                _services_cache_request_cache__WEBPACK_IMPORTED_MODULE_20__["RequestCache"],
                { provide: _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouteReuseStrategy"], useClass: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicRouteStrategy"] },
                _ionic_native_file_ngx__WEBPACK_IMPORTED_MODULE_13__["File"],
                _ionic_native_file_chooser_ngx__WEBPACK_IMPORTED_MODULE_14__["FileChooser"]
            ],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_6__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());



/***/ }),

/***/ "./src/app/ebook-reader/dto/BookDTO.ts":
/*!*********************************************!*\
  !*** ./src/app/ebook-reader/dto/BookDTO.ts ***!
  \*********************************************/
/*! exports provided: BookDTO */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BookDTO", function() { return BookDTO; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var BookDTO = /** @class */ (function () {
    function BookDTO() {
    }
    return BookDTO;
}());



/***/ }),

/***/ "./src/app/ebook-reader/dto/BookmarkDTO.ts":
/*!*************************************************!*\
  !*** ./src/app/ebook-reader/dto/BookmarkDTO.ts ***!
  \*************************************************/
/*! exports provided: BookmarkDTO */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BookmarkDTO", function() { return BookmarkDTO; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var BookmarkDTO = /** @class */ (function () {
    function BookmarkDTO() {
    }
    return BookmarkDTO;
}());



/***/ }),

/***/ "./src/app/ebook-reader/ebook-control-settings/ebook-control-settings.component.scss":
/*!*******************************************************************************************!*\
  !*** ./src/app/ebook-reader/ebook-control-settings/ebook-control-settings.component.scss ***!
  \*******************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vib29rLXJlYWRlci9lYm9vay1jb250cm9sLXNldHRpbmdzL2Vib29rLWNvbnRyb2wtc2V0dGluZ3MuY29tcG9uZW50LnNjc3MifQ== */");

/***/ }),

/***/ "./src/app/ebook-reader/ebook-control-settings/ebook-control-settings.component.ts":
/*!*****************************************************************************************!*\
  !*** ./src/app/ebook-reader/ebook-control-settings/ebook-control-settings.component.ts ***!
  \*****************************************************************************************/
/*! exports provided: EbookControlSettingsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EbookControlSettingsComponent", function() { return EbookControlSettingsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/e-book.service */ "./src/app/ebook-reader/services/e-book.service.ts");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




var EbookControlSettingsComponent = /** @class */ (function () {
    function EbookControlSettingsComponent(eBookService, appStorageService, modalController) {
        this.eBookService = eBookService;
        this.appStorageService = appStorageService;
        this.modalController = modalController;
        this.showNavigationControls = this.appStorageService.getUserDTO().showNavigationControl;
    }
    EbookControlSettingsComponent.prototype.ngOnInit = function () {
    };
    EbookControlSettingsComponent.prototype.dismissModal = function (data) {
        this.modalController.dismiss(data);
    };
    EbookControlSettingsComponent.prototype.navigationControlChanged = function (event) {
        this.showNavigationControls = event.detail.checked;
        this.eBookService.ePubEmitter.next({
            type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EPUB_EVENT_TYPES"].NAVIGATION_CONTROL_CHANGED,
            value: this.showNavigationControls
        });
    };
    EbookControlSettingsComponent.ctorParameters = function () { return [
        { type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EBookService"] },
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_2__["AppStorageService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"] }
    ]; };
    EbookControlSettingsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-ebook-control-settings',
            template: __importDefault(__webpack_require__(/*! raw-loader!./ebook-control-settings.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-control-settings/ebook-control-settings.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./ebook-control-settings.component.scss */ "./src/app/ebook-reader/ebook-control-settings/ebook-control-settings.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EBookService"],
            _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_2__["AppStorageService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"]])
    ], EbookControlSettingsComponent);
    return EbookControlSettingsComponent;
}());



/***/ }),

/***/ "./src/app/ebook-reader/ebook-menu/bookmarks-list/bookmarks-list.component.scss":
/*!**************************************************************************************!*\
  !*** ./src/app/ebook-reader/ebook-menu/bookmarks-list/bookmarks-list.component.scss ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vib29rLXJlYWRlci9lYm9vay1tZW51L2Jvb2ttYXJrcy1saXN0L2Jvb2ttYXJrcy1saXN0LmNvbXBvbmVudC5zY3NzIn0= */");

/***/ }),

/***/ "./src/app/ebook-reader/ebook-menu/bookmarks-list/bookmarks-list.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/ebook-reader/ebook-menu/bookmarks-list/bookmarks-list.component.ts ***!
  \************************************************************************************/
/*! exports provided: BookmarksListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BookmarksListComponent", function() { return BookmarksListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _dto_BookDTO__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../dto/BookDTO */ "./src/app/ebook-reader/dto/BookDTO.ts");
/* harmony import */ var _services_e_book_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/e-book.service */ "./src/app/ebook-reader/services/e-book.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




var BookmarksListComponent = /** @class */ (function () {
    function BookmarksListComponent(modalController, ebookService, navParams) {
        this.modalController = modalController;
        this.ebookService = ebookService;
        this.navParams = navParams;
        this.bookmarksDTOList = [];
    }
    BookmarksListComponent.prototype.ngOnInit = function () {
        this.bookmarksDTOList = this.navParams.get('bookmarksDTOList');
        this.bookmarksDTOList.sort(function (a, b) { return Number(a.percentage) - Number(b.percentage); });
        this.ePub = this.navParams.get('ePub');
    };
    BookmarksListComponent.prototype.dismissModal = function (data) {
        this.modalController.dismiss(data);
    };
    BookmarksListComponent.prototype.computePercentage = function (bookMark) {
        return this.ebookService.getPagePercentByCfi(this.ePub, bookMark);
    };
    BookmarksListComponent.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"] },
        { type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_3__["EBookService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavParams"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
        __metadata("design:type", _dto_BookDTO__WEBPACK_IMPORTED_MODULE_2__["BookDTO"])
    ], BookmarksListComponent.prototype, "bookDTO", void 0);
    BookmarksListComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'bookmarks-list',
            template: __importDefault(__webpack_require__(/*! raw-loader!./bookmarks-list.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-menu/bookmarks-list/bookmarks-list.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./bookmarks-list.component.scss */ "./src/app/ebook-reader/ebook-menu/bookmarks-list/bookmarks-list.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"],
            _services_e_book_service__WEBPACK_IMPORTED_MODULE_3__["EBookService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavParams"]])
    ], BookmarksListComponent);
    return BookmarksListComponent;
}());



/***/ }),

/***/ "./src/app/ebook-reader/ebook-menu/ebook-menu.component.scss":
/*!*******************************************************************!*\
  !*** ./src/app/ebook-reader/ebook-menu/ebook-menu.component.scss ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vib29rLXJlYWRlci9lYm9vay1tZW51L2Vib29rLW1lbnUuY29tcG9uZW50LnNjc3MifQ== */");

/***/ }),

/***/ "./src/app/ebook-reader/ebook-menu/ebook-menu.component.ts":
/*!*****************************************************************!*\
  !*** ./src/app/ebook-reader/ebook-menu/ebook-menu.component.ts ***!
  \*****************************************************************/
/*! exports provided: EbookMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EbookMenuComponent", function() { return EbookMenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/e-book.service */ "./src/app/ebook-reader/services/e-book.service.ts");
/* harmony import */ var _bookmarks_list_bookmarks_list_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bookmarks-list/bookmarks-list.component */ "./src/app/ebook-reader/ebook-menu/bookmarks-list/bookmarks-list.component.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_menu_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/menu.service */ "./src/app/ebook-reader/services/menu.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





var EbookMenuComponent = /** @class */ (function () {
    function EbookMenuComponent(ebookService, modalController, menuCtrl, menuService) {
        this.ebookService = ebookService;
        this.modalController = modalController;
        this.menuCtrl = menuCtrl;
        this.menuService = menuService;
    }
    EbookMenuComponent.prototype.ngOnInit = function () {
        this.initEventListeners();
    };
    EbookMenuComponent.prototype.viewBookMarks = function () {
        return __awaiter(this, void 0, void 0, function () {
            var modal, data, e_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        return [4 /*yield*/, this.modalController.create({
                                component: _bookmarks_list_bookmarks_list_component__WEBPACK_IMPORTED_MODULE_2__["BookmarksListComponent"],
                                componentProps: { bookDTO: this.bookDTO, ePub: this.ePub, bookmarksDTOList: this.bookmarksDTOList },
                                showBackdrop: true,
                                backdropDismiss: true
                            })];
                    case 1:
                        modal = _a.sent();
                        modal.present();
                        return [4 /*yield*/, modal.onWillDismiss()];
                    case 2:
                        data = (_a.sent()).data;
                        if (data == null) {
                            return [2 /*return*/];
                        }
                        else {
                            this.goToBookMark(data);
                        }
                        return [3 /*break*/, 4];
                    case 3:
                        e_1 = _a.sent();
                        console.error(e_1);
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    EbookMenuComponent.prototype.goToBookMark = function (bookmarkCFI) {
        this.ebookService.ePubEmitter.next({ type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EPUB_EVENT_TYPES"].GO_TO_BOOKMARK, value: bookmarkCFI });
    };
    EbookMenuComponent.prototype.goToChapter = function (chapter) {
        this.ePub.rendition.display(chapter.href);
        this.menuService.menuEmitter.next(0);
        this.menuCtrl.toggle();
    };
    EbookMenuComponent.prototype.initEventListeners = function () {
        var _this = this;
        this.ebookService.eBookEmitter.subscribe(function (eBook) {
            _this.bookDTO = eBook;
        });
        this.ebookService.ePubEmitter.subscribe(function (event) {
            if (event.type == _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EPUB_EVENT_TYPES"].EPUB) {
                _this.ePub = event.value;
            }
            else if (event.type == _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EPUB_EVENT_TYPES"].BOOKMARKS_LOADED) {
                _this.bookmarksDTOList = event.value;
            }
        });
    };
    EbookMenuComponent.ctorParameters = function () { return [
        { type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EBookService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["MenuController"] },
        { type: _services_menu_service__WEBPACK_IMPORTED_MODULE_4__["MenuService"] }
    ]; };
    EbookMenuComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'ebook-menu',
            template: __importDefault(__webpack_require__(/*! raw-loader!./ebook-menu.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-menu/ebook-menu.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./ebook-menu.component.scss */ "./src/app/ebook-reader/ebook-menu/ebook-menu.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EBookService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["MenuController"],
            _services_menu_service__WEBPACK_IMPORTED_MODULE_4__["MenuService"]])
    ], EbookMenuComponent);
    return EbookMenuComponent;
}());



/***/ }),

/***/ "./src/app/ebook-reader/ebook-preferences/ebook-preferences.component.scss":
/*!*********************************************************************************!*\
  !*** ./src/app/ebook-reader/ebook-preferences/ebook-preferences.component.scss ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vib29rLXJlYWRlci9lYm9vay1wcmVmZXJlbmNlcy9lYm9vay1wcmVmZXJlbmNlcy5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "./src/app/ebook-reader/ebook-preferences/ebook-preferences.component.ts":
/*!*******************************************************************************!*\
  !*** ./src/app/ebook-reader/ebook-preferences/ebook-preferences.component.ts ***!
  \*******************************************************************************/
/*! exports provided: EbookPreferencesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EbookPreferencesComponent", function() { return EbookPreferencesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ebook_visual_settings_ebook_visual_settings_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ebook-visual-settings/ebook-visual-settings.component */ "./src/app/ebook-reader/ebook-visual-settings/ebook-visual-settings.component.ts");
/* harmony import */ var _ebook_control_settings_ebook_control_settings_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ebook-control-settings/ebook-control-settings.component */ "./src/app/ebook-reader/ebook-control-settings/ebook-control-settings.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




var EbookPreferencesComponent = /** @class */ (function () {
    function EbookPreferencesComponent(popoverController, modalController) {
        this.popoverController = popoverController;
        this.modalController = modalController;
    }
    EbookPreferencesComponent.prototype.ngOnInit = function () {
    };
    EbookPreferencesComponent.prototype.openVisualSettings = function () {
        return __awaiter(this, void 0, void 0, function () {
            var modal;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.modalController.create({
                            component: _ebook_visual_settings_ebook_visual_settings_component__WEBPACK_IMPORTED_MODULE_2__["EbookVisualSettingsComponent"],
                            showBackdrop: true,
                            backdropDismiss: true,
                            cssClass: 'modal'
                        })];
                    case 1:
                        modal = _a.sent();
                        modal.present();
                        this.popoverController.dismiss();
                        return [2 /*return*/];
                }
            });
        });
    };
    EbookPreferencesComponent.prototype.openControlSettings = function () {
        return __awaiter(this, void 0, void 0, function () {
            var modal;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.modalController.create({
                            component: _ebook_control_settings_ebook_control_settings_component__WEBPACK_IMPORTED_MODULE_3__["EbookControlSettingsComponent"],
                            showBackdrop: true,
                            backdropDismiss: true,
                            cssClass: 'modal'
                        })];
                    case 1:
                        modal = _a.sent();
                        modal.present();
                        this.popoverController.dismiss();
                        return [2 /*return*/];
                }
            });
        });
    };
    EbookPreferencesComponent.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"] }
    ]; };
    EbookPreferencesComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-ebook-preferences',
            template: __importDefault(__webpack_require__(/*! raw-loader!./ebook-preferences.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-preferences/ebook-preferences.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./ebook-preferences.component.scss */ "./src/app/ebook-reader/ebook-preferences/ebook-preferences.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"]])
    ], EbookPreferencesComponent);
    return EbookPreferencesComponent;
}());



/***/ }),

/***/ "./src/app/ebook-reader/ebook-reader.component.scss":
/*!**********************************************************!*\
  !*** ./src/app/ebook-reader/ebook-reader.component.scss ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vib29rLXJlYWRlci9lYm9vay1yZWFkZXIuY29tcG9uZW50LnNjc3MifQ== */");

/***/ }),

/***/ "./src/app/ebook-reader/ebook-reader.component.ts":
/*!********************************************************!*\
  !*** ./src/app/ebook-reader/ebook-reader.component.ts ***!
  \********************************************************/
/*! exports provided: EbookReaderComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EbookReaderComponent", function() { return EbookReaderComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _dto_BookDTO__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dto/BookDTO */ "./src/app/ebook-reader/dto/BookDTO.ts");
/* harmony import */ var _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./services/e-book.service */ "./src/app/ebook-reader/services/e-book.service.ts");
/* harmony import */ var _services_menu_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./services/menu.service */ "./src/app/ebook-reader/services/menu.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ebook_preferences_ebook_preferences_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ebook-preferences/ebook-preferences.component */ "./src/app/ebook-reader/ebook-preferences/ebook-preferences.component.ts");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
/* harmony import */ var _services_loading_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../services/loading.service */ "./src/app/services/loading.service.ts");
/* harmony import */ var _dto_BookmarkDTO__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dto/BookmarkDTO */ "./src/app/ebook-reader/dto/BookmarkDTO.ts");
/* harmony import */ var _services_http_parse_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../services/http-parse.service */ "./src/app/services/http-parse.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};












var EbookReaderComponent = /** @class */ (function () {
    function EbookReaderComponent(platform, storage, cdr, menuController, ebookService, menuService, router, popoverController, loadingService, httpParseService, appStorageService) {
        this.platform = platform;
        this.storage = storage;
        this.cdr = cdr;
        this.menuController = menuController;
        this.ebookService = ebookService;
        this.menuService = menuService;
        this.router = router;
        this.popoverController = popoverController;
        this.loadingService = loadingService;
        this.httpParseService = httpParseService;
        this.appStorageService = appStorageService;
        this.bookDTO = new _dto_BookDTO__WEBPACK_IMPORTED_MODULE_3__["BookDTO"]();
        this.isBookmarkSet = false;
        this.showHideToolbar = false;
        this.book = ePub();
        this.bookMarks = [];
        this.runViewCheck = 0;
        this.currentPage = 0;
        this.totalPageNo = 0;
        this.progress = 0;
    }
    EbookReaderComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.loadingService.showLoader();
        this.platform.resize.subscribe(function (res) {
            _this.resizeBook();
        });
    };
    EbookReaderComponent.prototype.ngAfterViewInit = function () {
    };
    EbookReaderComponent.prototype.ngAfterContentInit = function () {
    };
    EbookReaderComponent.prototype.ngAfterViewChecked = function () {
        if (this.runViewCheck == 2) {
            this.initBook();
            this.initEventListeners();
        }
        this.runViewCheck += 1;
    };
    EbookReaderComponent.prototype.initBook = function () {
        var _this = this;
        if (this.ebookSource == null) {
            alert('No ebook selected');
        }
        this.httpParseService.getBookContent(this.bookDTO.fileUrl).subscribe(function (bookContent) {
            _this.renderBookContent(bookContent);
        });
    };
    EbookReaderComponent.prototype.initAnimation = function () {
        /*this.rendition.hooks.content.register((contents, view) => {
                console.error('contents', contents);
                return contents.addSt("test-red")
                    .then(function () {
                        // init code
                    });
            }
        );*/
    };
    EbookReaderComponent.prototype.renderBookContent = function (bookContent) {
        this.book.open(bookContent /*, {storage: true, store: 'epubs-store'}*/);
        this.rendition = this.book.renderTo("book", {
            manager: "continuous",
            flow: "paginated",
            width: '100%',
            height: this.platform.height() - this.footer.nativeElement.offsetHeight,
            spread: 'always',
            resizeOnOrientationChange: true,
            snap: true
        });
        this.initThemes();
        this.bookReady();
        this.rendition.display();
        this.getBookmarksList();
        this.initAnimation();
    };
    EbookReaderComponent.prototype.getBookmarksList = function () {
        var _this = this;
        this.httpParseService.getBookmarks(this.bookDTO).subscribe(function (bookmarksDTOList) {
            _this.bookMarks = bookmarksDTOList;
            _this.ebookService.ePubEmitter.next({ type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EPUB_EVENT_TYPES"].BOOKMARKS_LOADED, value: _this.bookMarks });
        }, function (error) { return console.error(error); });
    };
    EbookReaderComponent.prototype.bookReady = function () {
        var _this = this;
        this.book.ready.then(function () {
            _this.loadingService.dismissLoader();
            // this.setupBookStorage();
            _this.ebookService.eBookEmitter.next(_this.bookDTO);
            _this.ebookService.ePubEmitter.next({ type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EPUB_EVENT_TYPES"].EPUB, value: _this.book });
            _this.book.locations.generate(1600);
            var userDTO = _this.appStorageService.getUserDTO();
            _this.setFontSize(userDTO.fontSize);
            _this.setTextColor(userDTO.textColor);
            _this.setBackgroundColor(userDTO.backgroundColor);
            _this.setTextBold(userDTO.isBold);
            _this.setTextItalic(userDTO.isItalic);
            _this.setNavigationControl(userDTO.showNavigationControl);
            _this.setTheme(userDTO.theme != null ? userDTO.theme : 'light');
            _this.swipeToChanged();
            _this.setPages();
            if (_this.bookDTO.lastReadCfi != null) {
                _this.book.rendition.display(_this.bookDTO.lastReadCfi);
                _this.cdr.detectChanges();
            }
            _this.setupPageUpdate();
        }).catch(function (e) { return _this.loadingService.dismissLoader(); });
    };
    EbookReaderComponent.prototype.setupPageUpdate = function () {
        var _this = this;
        this.rendition.on('relocated', function (locations) {
            var progress = _this.book.locations.percentageFromCfi(locations.start.cfi);
            _this.progress = Number(progress * 100).toFixed(1);
            _this.currentPage = _this.book.locations.locationFromCfi(locations.start.cfi);
            _this.totalPageNo = _this.book.locations.total;
            _this.cdr.detectChanges();
        });
    };
    EbookReaderComponent.prototype.setPages = function () {
        this.currentPage = this.book.locations.currentLocation;
        this.totalPageNo = this.book.locations.total;
        this.cdr.detectChanges();
    };
    EbookReaderComponent.prototype.swipeToChanged = function () {
        var _this = this;
        this.rendition.hooks.content.register(function (contents) {
            var el = contents.document.documentElement;
            if (el) {
                //Enable swipe gesture to flip a page
                var start_1;
                var end_1;
                el.addEventListener('touchstart', function (event) {
                    start_1 = event.changedTouches[0];
                });
                el.addEventListener('touchend', function (event) {
                    end_1 = event.changedTouches[0];
                    var elBook = document.querySelector('main'); //Parent div, which contains the #area div
                    if (elBook) {
                        var bound = elBook.getBoundingClientRect();
                        var hr = (end_1.screenX - start_1.screenX) / bound.width;
                        var vr = Math.abs((end_1.screenY - start_1.screenY) / bound.height);
                        if (hr > 0.25 && vr < 0.1) {
                            _this.move(0);
                        }
                        if (hr < -0.25 && vr < 0.1) {
                            _this.move(1);
                        }
                    }
                });
            }
        });
    };
    EbookReaderComponent.prototype.setupBookStorage = function () {
        this.book.storage.on("online", function () {
            console.log("online");
        });
        this.book.storage.on("offline", function () {
            console.log("offline");
        });
    };
    EbookReaderComponent.prototype.goBack = function () {
        this.router.navigate(['shelf']);
    };
    EbookReaderComponent.prototype.move = function (where) {
        var _this = this;
        this.showHideToolbar = false;
        if (where == 0) {
            this.rendition.prev().then(function () {
                _this.setUnsetBookmarkIcon();
                _this.setLastPage();
                _this.cdr.detectChanges();
            });
        }
        else {
            this.rendition.next().then(function () {
                _this.setUnsetBookmarkIcon();
                _this.setLastPage();
                _this.cdr.detectChanges();
            });
        }
    };
    EbookReaderComponent.prototype.setLastPage = function () {
        var cfi = this.ebookService.getStartCfi(this.book);
        this.bookDTO.lastReadCfi = cfi;
        this.httpParseService.updateLastCfi(this.bookDTO.objectId, cfi).subscribe();
    };
    EbookReaderComponent.prototype.setUnsetBookmark = function () {
        var _this = this;
        var cfi = this.ebookService.getStartCfi(this.book);
        if (!this.bookmarkExists()) {
            this.isBookmarkSet = true;
            var bookMarkDTO_1 = new _dto_BookmarkDTO__WEBPACK_IMPORTED_MODULE_10__["BookmarkDTO"]();
            bookMarkDTO_1.cfi = cfi;
            bookMarkDTO_1.isDeleted = false;
            bookMarkDTO_1.bookId = this.bookDTO.objectId;
            bookMarkDTO_1.percentage = this.ebookService.getPagePercentByCfi(this.book, cfi);
            this.httpParseService.addBookmark(bookMarkDTO_1).subscribe(function (res) {
                bookMarkDTO_1.objectId = res.objectId;
                _this.bookMarks.push(bookMarkDTO_1);
                _this.ebookService.ePubEmitter.next({
                    type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EPUB_EVENT_TYPES"].BOOKMARKS_LOADED,
                    value: _this.bookMarks
                });
            });
        }
        else {
            var indexOfBookmark = this.bookMarks.findIndex(function (bookMarkDTO) { return bookMarkDTO.cfi == cfi; });
            var bookMarkToDelete = this.bookMarks[indexOfBookmark];
            this.bookMarks.splice(indexOfBookmark, 1);
            this.ebookService.ePubEmitter.next({ type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EPUB_EVENT_TYPES"].BOOKMARKS_LOADED, value: this.bookMarks });
            this.isBookmarkSet = false;
            this.httpParseService.deleteBookMark(bookMarkToDelete).subscribe();
        }
        this.cdr.detectChanges();
    };
    EbookReaderComponent.prototype.showHideToolbarClick = function () {
        this.showHideToolbar = !this.showHideToolbar;
        // this.resizeBook();
    };
    EbookReaderComponent.prototype.presentPopover = function (ev) {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _ebook_preferences_ebook_preferences_component__WEBPACK_IMPORTED_MODULE_7__["EbookPreferencesComponent"],
                            event: ev,
                            translucent: true
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    EbookReaderComponent.prototype.bookmarkExists = function () {
        var cfi = this.rendition.currentLocation().start.cfi;
        if (this.bookMarks.filter(function (bookMarksDTO) { return bookMarksDTO.cfi == cfi; }).length > 0) {
            return true;
        }
        return false;
    };
    EbookReaderComponent.prototype.setUnsetBookmarkIcon = function () {
        this.isBookmarkSet = false;
        if (this.bookmarkExists()) {
            this.isBookmarkSet = true;
        }
    };
    EbookReaderComponent.prototype.setFontSize = function (fontSize) {
        this.rendition.themes.fontSize(fontSize + '%');
    };
    EbookReaderComponent.prototype.setTextColor = function (textColor) {
        this.rendition.themes.override('color', textColor, true);
    };
    EbookReaderComponent.prototype.setBackgroundColor = function (backgroundColor) {
        this.rendition.themes.override('background-color', backgroundColor, true);
    };
    EbookReaderComponent.prototype.setTextBold = function (isBold) {
        this.rendition.themes.override('font-weight', isBold ? 'bold' : 'normal', true);
    };
    EbookReaderComponent.prototype.setTextItalic = function (isItalic) {
        this.rendition.themes.override('font-style', isItalic ? 'italic' : 'normal', true);
    };
    EbookReaderComponent.prototype.setNavigationControl = function (showNavigationControl) {
        this.showNavigationControl = showNavigationControl;
    };
    EbookReaderComponent.prototype.setTheme = function (value) {
        this.rendition.themes.select(value);
    };
    EbookReaderComponent.prototype.resizeBook = function () {
        var platformHeight = this.platform.height();
        var footerHeight = this.footer.nativeElement.offsetHeight;
        // console.error('footerHeight', footerHeight);
        if (this.rendition != null) {
            this.rendition.resize(this.platform.width(), platformHeight - footerHeight);
            this.setupPageUpdate();
        }
        /*this.book.generatePagination().then(() => {
            console.error('this.book.pagination', this.book.pagination);
            console.error('book.pagination.pageFromCfi(book.getCurrentLocationCfi());', this.book.pagination.pageFromCfi(this.book.getCurrentLocationCfi()))
        })*/
    };
    EbookReaderComponent.prototype.initThemes = function () {
        this.rendition.themes.register("dark", "assets/themes.css");
        this.rendition.themes.register("light", "assets/themes.css");
        this.rendition.themes.register("tan", "assets/themes.css");
    };
    EbookReaderComponent.prototype.initEventListeners = function () {
        var _this = this;
        this.ebookService.emitEpub(this.book);
        this.ebookService.ePubEmitter.subscribe(function (event) {
            switch (event.type) {
                case _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EPUB_EVENT_TYPES"].GO_TO_BOOKMARK: {
                    _this.book.rendition.display(event.value);
                    _this.menuController.toggle();
                    _this.cdr.detectChanges();
                    break;
                }
                case _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EPUB_EVENT_TYPES"].FONT_SIZE_CHANGED: {
                    _this.httpParseService.updateFontSize(event.value).subscribe(function (res) {
                        _this.setFontSize(event.value);
                    });
                    break;
                }
                case _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EPUB_EVENT_TYPES"].TEXT_COLOR_CHANGED: {
                    _this.httpParseService.updateTextColor(event.value).subscribe(function (res) {
                        _this.setTextColor(event.value);
                    });
                    break;
                }
                case _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EPUB_EVENT_TYPES"].BACKGROUND_COLOR_CHANGED: {
                    _this.httpParseService.updateBackgroundColor(event.value).subscribe(function (res) {
                        _this.setBackgroundColor(event.value);
                    });
                    break;
                }
                case _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EPUB_EVENT_TYPES"].TEXT_BOLD_CHANGED: {
                    _this.httpParseService.updateTextBold(event.value).subscribe(function (res) {
                        _this.setTextBold(event.value);
                    });
                    break;
                }
                case _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EPUB_EVENT_TYPES"].TEXT_ITALIC_CHANGED: {
                    _this.httpParseService.updateTextItalic(event.value).subscribe(function (res) {
                        _this.setTextItalic(event.value);
                    });
                    break;
                }
                case _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EPUB_EVENT_TYPES"].NAVIGATION_CONTROL_CHANGED: {
                    _this.httpParseService.updateNavigationControl(event.value).subscribe(function (res) {
                        _this.setNavigationControl(event.value);
                    });
                    break;
                }
                case _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EPUB_EVENT_TYPES"].THEME_CHANGED: {
                    _this.httpParseService.updateTheme(event.value).subscribe(function (res) {
                        _this.setTheme(event.value);
                    });
                    break;
                }
                default: {
                    break;
                }
            }
        });
        this.menuService.menuEmitter.subscribe(function (event) {
            if (event == 0) {
                _this.cdr.detectChanges();
            }
        });
    };
    // search in chapter book.currentChapter.find("Some Text to look for");
    // page number from cfi book.pagination.pageFromCfi(cfiGoesHere);
    EbookReaderComponent.prototype.onSwipeLeft = function (event) {
        console.error(event);
    };
    EbookReaderComponent.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["MenuController"] },
        { type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EBookService"] },
        { type: _services_menu_service__WEBPACK_IMPORTED_MODULE_5__["MenuService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"] },
        { type: _services_loading_service__WEBPACK_IMPORTED_MODULE_9__["LoadingService"] },
        { type: _services_http_parse_service__WEBPACK_IMPORTED_MODULE_11__["HttpParseService"] },
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_8__["AppStorageService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('ebookSource'),
        __metadata("design:type", Object)
    ], EbookReaderComponent.prototype, "ebookSource", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('bookDTO'),
        __metadata("design:type", _dto_BookDTO__WEBPACK_IMPORTED_MODULE_3__["BookDTO"])
    ], EbookReaderComponent.prototype, "bookDTO", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('toolbarHeader', { static: false }),
        __metadata("design:type", Object)
    ], EbookReaderComponent.prototype, "toolbarHeader", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('footer', { static: false }),
        __metadata("design:type", Object)
    ], EbookReaderComponent.prototype, "footer", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('mainContent', { static: false }),
        __metadata("design:type", Object)
    ], EbookReaderComponent.prototype, "mainContent", void 0);
    EbookReaderComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-ebook-reader',
            template: __importDefault(__webpack_require__(/*! raw-loader!./ebook-reader.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-reader.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./ebook-reader.component.scss */ "./src/app/ebook-reader/ebook-reader.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["Platform"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["MenuController"],
            _services_e_book_service__WEBPACK_IMPORTED_MODULE_4__["EBookService"],
            _services_menu_service__WEBPACK_IMPORTED_MODULE_5__["MenuService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_6__["Router"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _services_loading_service__WEBPACK_IMPORTED_MODULE_9__["LoadingService"],
            _services_http_parse_service__WEBPACK_IMPORTED_MODULE_11__["HttpParseService"],
            _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_8__["AppStorageService"]])
    ], EbookReaderComponent);
    return EbookReaderComponent;
}());



/***/ }),

/***/ "./src/app/ebook-reader/ebook-reader.module.ts":
/*!*****************************************************!*\
  !*** ./src/app/ebook-reader/ebook-reader.module.ts ***!
  \*****************************************************/
/*! exports provided: MyHammerConfig, EbookReaderModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MyHammerConfig", function() { return MyHammerConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EbookReaderModule", function() { return EbookReaderModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ebook_reader_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ebook-reader.component */ "./src/app/ebook-reader/ebook-reader.component.ts");
/* harmony import */ var _ebook_menu_ebook_menu_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ebook-menu/ebook-menu.component */ "./src/app/ebook-reader/ebook-menu/ebook-menu.component.ts");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _ebook_preferences_ebook_preferences_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ebook-preferences/ebook-preferences.component */ "./src/app/ebook-reader/ebook-preferences/ebook-preferences.component.ts");
/* harmony import */ var _ebook_visual_settings_ebook_visual_settings_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ebook-visual-settings/ebook-visual-settings.component */ "./src/app/ebook-reader/ebook-visual-settings/ebook-visual-settings.component.ts");
/* harmony import */ var _utils_shared_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/shared.module */ "./src/app/utils/shared.module.ts");
/* harmony import */ var _ebook_control_settings_ebook_control_settings_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ebook-control-settings/ebook-control-settings.component */ "./src/app/ebook-reader/ebook-control-settings/ebook-control-settings.component.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};












var MyHammerConfig = /** @class */ (function (_super) {
    __extends(MyHammerConfig, _super);
    function MyHammerConfig() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.overrides = {
            swipe: { direction: hammerjs__WEBPACK_IMPORTED_MODULE_6__["DIRECTION_ALL"] },
        };
        return _this;
    }
    return MyHammerConfig;
}(_angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__["HammerGestureConfig"]));

var EbookReaderModule = /** @class */ (function () {
    function EbookReaderModule() {
    }
    EbookReaderModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
                _utils_shared_module__WEBPACK_IMPORTED_MODULE_10__["SharedModule"]
            ],
            declarations: [
                _ebook_reader_component__WEBPACK_IMPORTED_MODULE_4__["EbookReaderComponent"],
                _ebook_menu_ebook_menu_component__WEBPACK_IMPORTED_MODULE_5__["EbookMenuComponent"],
                _ebook_preferences_ebook_preferences_component__WEBPACK_IMPORTED_MODULE_8__["EbookPreferencesComponent"],
                _ebook_visual_settings_ebook_visual_settings_component__WEBPACK_IMPORTED_MODULE_9__["EbookVisualSettingsComponent"],
                _ebook_control_settings_ebook_control_settings_component__WEBPACK_IMPORTED_MODULE_11__["EbookControlSettingsComponent"]
            ],
            exports: [
                _ebook_reader_component__WEBPACK_IMPORTED_MODULE_4__["EbookReaderComponent"],
                _ebook_menu_ebook_menu_component__WEBPACK_IMPORTED_MODULE_5__["EbookMenuComponent"],
            ],
            providers: [
                {
                    provide: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__["HAMMER_GESTURE_CONFIG"],
                    useClass: MyHammerConfig,
                }
            ],
            entryComponents: [
                _ebook_preferences_ebook_preferences_component__WEBPACK_IMPORTED_MODULE_8__["EbookPreferencesComponent"],
                _ebook_visual_settings_ebook_visual_settings_component__WEBPACK_IMPORTED_MODULE_9__["EbookVisualSettingsComponent"],
                _ebook_control_settings_ebook_control_settings_component__WEBPACK_IMPORTED_MODULE_11__["EbookControlSettingsComponent"]
            ]
        })
    ], EbookReaderModule);
    return EbookReaderModule;
}());



/***/ }),

/***/ "./src/app/ebook-reader/ebook-visual-settings/ebook-visual-settings.component.scss":
/*!*****************************************************************************************!*\
  !*** ./src/app/ebook-reader/ebook-visual-settings/ebook-visual-settings.component.scss ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Vib29rLXJlYWRlci9lYm9vay12aXN1YWwtc2V0dGluZ3MvZWJvb2stdmlzdWFsLXNldHRpbmdzLmNvbXBvbmVudC5zY3NzIn0= */");

/***/ }),

/***/ "./src/app/ebook-reader/ebook-visual-settings/ebook-visual-settings.component.ts":
/*!***************************************************************************************!*\
  !*** ./src/app/ebook-reader/ebook-visual-settings/ebook-visual-settings.component.ts ***!
  \***************************************************************************************/
/*! exports provided: EbookVisualSettingsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EbookVisualSettingsComponent", function() { return EbookVisualSettingsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../services/e-book.service */ "./src/app/ebook-reader/services/e-book.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




var EbookVisualSettingsComponent = /** @class */ (function () {
    function EbookVisualSettingsComponent(eBookService, modalController, appStorageService) {
        this.eBookService = eBookService;
        this.modalController = modalController;
        this.appStorageService = appStorageService;
        this.shouldRender = false;
        this.fontSize = [];
        this.selectedFont = 100;
        this.textColor = '#330000';
        this.backgroundColor = 'white';
        this.themes = [{ value: 'dark', name: 'Dark' }, { value: 'tan', name: 'Tan' }, { value: 'light', name: 'Light' }];
        this.selectedTheme = 'light';
    }
    EbookVisualSettingsComponent.prototype.ngOnInit = function () {
        for (var i = 10; i <= 200; i += 10) {
            this.fontSize.push(i);
        }
        var userDTO = this.appStorageService.getUserDTO();
        this.selectedFont = userDTO.fontSize;
        this.textColor = userDTO.textColor != null ? userDTO.textColor : this.textColor;
        this.backgroundColor = userDTO.backgroundColor != null ? userDTO.backgroundColor : this.backgroundColor;
        this.textBold = userDTO.isBold;
        this.textItalic = userDTO.isItalic;
        this.selectedTheme = userDTO.theme;
        this.shouldRender = true;
    };
    EbookVisualSettingsComponent.prototype.dismissModal = function (data) {
        this.modalController.dismiss(data);
    };
    EbookVisualSettingsComponent.prototype.selectionChanged = function (event) {
        var fontSizeSelected = event.detail.value;
        this.eBookService.ePubEmitter.next({ type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EPUB_EVENT_TYPES"].FONT_SIZE_CHANGED, value: fontSizeSelected });
    };
    EbookVisualSettingsComponent.prototype.textColorChanged = function (color) {
        this.textColor = color;
        this.eBookService.ePubEmitter.next({ type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EPUB_EVENT_TYPES"].TEXT_COLOR_CHANGED, value: color });
    };
    EbookVisualSettingsComponent.prototype.backgroundColorChanged = function (color) {
        this.backgroundColor = color;
        this.eBookService.ePubEmitter.next({ type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EPUB_EVENT_TYPES"].BACKGROUND_COLOR_CHANGED, value: color });
    };
    EbookVisualSettingsComponent.prototype.boldChanged = function (event) {
        this.textBold = event.detail.checked;
        this.eBookService.ePubEmitter.next({ type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EPUB_EVENT_TYPES"].TEXT_BOLD_CHANGED, value: this.textBold });
    };
    EbookVisualSettingsComponent.prototype.italicChanged = function (event) {
        this.textItalic = event.detail.checked;
        this.eBookService.ePubEmitter.next({ type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EPUB_EVENT_TYPES"].TEXT_ITALIC_CHANGED, value: this.textItalic });
    };
    EbookVisualSettingsComponent.prototype.themeChanged = function (event) {
        this.selectedTheme = event.detail.value;
        this.eBookService.ePubEmitter.next({ type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EPUB_EVENT_TYPES"].THEME_CHANGED, value: this.selectedTheme });
    };
    EbookVisualSettingsComponent.ctorParameters = function () { return [
        { type: _services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EBookService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"] },
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__["AppStorageService"] }
    ]; };
    EbookVisualSettingsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-ebook-visual-settings',
            template: __importDefault(__webpack_require__(/*! raw-loader!./ebook-visual-settings.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/ebook-reader/ebook-visual-settings/ebook-visual-settings.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./ebook-visual-settings.component.scss */ "./src/app/ebook-reader/ebook-visual-settings/ebook-visual-settings.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_services_e_book_service__WEBPACK_IMPORTED_MODULE_1__["EBookService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__["AppStorageService"]])
    ], EbookVisualSettingsComponent);
    return EbookVisualSettingsComponent;
}());



/***/ }),

/***/ "./src/app/ebook-reader/services/e-book.service.ts":
/*!*********************************************************!*\
  !*** ./src/app/ebook-reader/services/e-book.service.ts ***!
  \*********************************************************/
/*! exports provided: EPUB_EVENT_TYPES, EBookService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EPUB_EVENT_TYPES", function() { return EPUB_EVENT_TYPES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EBookService", function() { return EBookService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

var EPUB_EVENT_TYPES;
(function (EPUB_EVENT_TYPES) {
    EPUB_EVENT_TYPES[EPUB_EVENT_TYPES["GO_TO_BOOKMARK"] = 0] = "GO_TO_BOOKMARK";
    EPUB_EVENT_TYPES[EPUB_EVENT_TYPES["EPUB"] = 1] = "EPUB";
    EPUB_EVENT_TYPES[EPUB_EVENT_TYPES["GO_TO_CHAPTER"] = 2] = "GO_TO_CHAPTER";
    EPUB_EVENT_TYPES[EPUB_EVENT_TYPES["FONT_SIZE_CHANGED"] = 3] = "FONT_SIZE_CHANGED";
    EPUB_EVENT_TYPES[EPUB_EVENT_TYPES["TEXT_COLOR_CHANGED"] = 4] = "TEXT_COLOR_CHANGED";
    EPUB_EVENT_TYPES[EPUB_EVENT_TYPES["BACKGROUND_COLOR_CHANGED"] = 5] = "BACKGROUND_COLOR_CHANGED";
    EPUB_EVENT_TYPES[EPUB_EVENT_TYPES["BOOKMARKS_LOADED"] = 6] = "BOOKMARKS_LOADED";
    EPUB_EVENT_TYPES[EPUB_EVENT_TYPES["TEXT_BOLD_CHANGED"] = 7] = "TEXT_BOLD_CHANGED";
    EPUB_EVENT_TYPES[EPUB_EVENT_TYPES["TEXT_ITALIC_CHANGED"] = 8] = "TEXT_ITALIC_CHANGED";
    EPUB_EVENT_TYPES[EPUB_EVENT_TYPES["NAVIGATION_CONTROL_CHANGED"] = 9] = "NAVIGATION_CONTROL_CHANGED";
    EPUB_EVENT_TYPES[EPUB_EVENT_TYPES["THEME_CHANGED"] = 10] = "THEME_CHANGED";
})(EPUB_EVENT_TYPES || (EPUB_EVENT_TYPES = {}));
var EBookService = /** @class */ (function () {
    function EBookService() {
        this.eBookEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.ePubEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    EBookService.prototype.goToBookMark = function (bookMark) {
        this.ePubEmitter.next({ type: 0, value: bookMark });
    };
    EBookService.prototype.emitEpub = function (epub) {
        this.ePubEmitter.next({ type: 1, value: epub });
    };
    EBookService.prototype.getPagePercentByCfi = function (epub, cfi) {
        return (epub.locations.percentageFromCfi(cfi) * 100).toPrecision(3);
    };
    EBookService.prototype.getCurrentLocation = function (epub) {
        return epub.rendition.currentLocation();
    };
    EBookService.prototype.getSpineItemByLocation = function (epub, location) {
        return epub.spine.get(location);
    };
    EBookService.prototype.getNavItemBySpine = function (epub, spine) {
        return epub.navigation.get(spine.href);
    };
    EBookService.prototype.getStartCfi = function (epub) {
        return epub.rendition.currentLocation().start.cfi;
    };
    EBookService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], EBookService);
    return EBookService;
}());



/***/ }),

/***/ "./src/app/ebook-reader/services/menu.service.ts":
/*!*******************************************************!*\
  !*** ./src/app/ebook-reader/services/menu.service.ts ***!
  \*******************************************************/
/*! exports provided: MenuService, MenuEvents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MenuService", function() { return MenuService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MenuEvents", function() { return MenuEvents; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

var MenuService = /** @class */ (function () {
    function MenuService() {
        this.menuEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    MenuService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], MenuService);
    return MenuService;
}());

var MenuEvents;
(function (MenuEvents) {
    MenuEvents[MenuEvents["BOOKS_ADDED"] = 0] = "BOOKS_ADDED";
    MenuEvents[MenuEvents["FAVORITES_CHANGED"] = 1] = "FAVORITES_CHANGED";
    MenuEvents[MenuEvents["BOOK_DELETED"] = 2] = "BOOK_DELETED";
})(MenuEvents || (MenuEvents = {}));


/***/ }),

/***/ "./src/app/er-local-storage/app-storage.service.ts":
/*!*********************************************************!*\
  !*** ./src/app/er-local-storage/app-storage.service.ts ***!
  \*********************************************************/
/*! exports provided: AppStorageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppStorageService", function() { return AppStorageService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var angular_2_local_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular-2-local-storage */ "./node_modules/angular-2-local-storage/fesm5/angular-2-local-storage.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var AppStorageService = /** @class */ (function () {
    function AppStorageService(localStorageService) {
        this.localStorageService = localStorageService;
    }
    AppStorageService.prototype.setToken = function (token) {
        this.localStorageService.set(STORAGE_DATA.TOKEN, token);
    };
    AppStorageService.prototype.getToken = function () {
        return this.localStorageService.get(STORAGE_DATA.TOKEN);
    };
    AppStorageService.prototype.setUserDTO = function (userDTO) {
        this.localStorageService.set(STORAGE_DATA.USER, userDTO);
    };
    AppStorageService.prototype.getUserDTO = function () {
        return this.localStorageService.get(STORAGE_DATA.USER);
    };
    AppStorageService.prototype.clearUser = function () {
        this.localStorageService.remove(STORAGE_DATA.USER);
        this.localStorageService.remove(STORAGE_DATA.CONNECTIONS);
        this.localStorageService.remove(STORAGE_DATA.USER_CONNECTIONS);
        this.localStorageService.remove(STORAGE_DATA.BOOKS);
        this.localStorageService.remove(STORAGE_DATA.TOKEN);
    };
    AppStorageService.prototype.setFontSize = function (fontSize) {
        var userDTO = this.getUserDTO();
        userDTO.fontSize = fontSize;
        this.setUserDTO(userDTO);
    };
    AppStorageService.prototype.setTextColor = function (textColor) {
        var userDTO = this.getUserDTO();
        userDTO.textColor = textColor;
        this.setUserDTO(userDTO);
    };
    AppStorageService.prototype.setBackgroundColor = function (backgroundColor) {
        var userDTO = this.getUserDTO();
        userDTO.backgroundColor = backgroundColor;
        this.setUserDTO(userDTO);
    };
    AppStorageService.prototype.setTextBold = function (isTextBold) {
        var userDTO = this.getUserDTO();
        userDTO.isBold = isTextBold;
        this.setUserDTO(userDTO);
    };
    AppStorageService.prototype.setTextItalic = function (isItalic) {
        var userDTO = this.getUserDTO();
        userDTO.isItalic = isItalic;
        this.setUserDTO(userDTO);
    };
    AppStorageService.prototype.setNavigationControl = function (showNavigationControl) {
        var userDTO = this.getUserDTO();
        userDTO.showNavigationControl = showNavigationControl;
        this.setUserDTO(userDTO);
    };
    AppStorageService.prototype.setTheme = function (theme) {
        var userDTO = this.getUserDTO();
        userDTO.theme = theme;
        this.setUserDTO(userDTO);
    };
    AppStorageService.prototype.setConnections = function (connectionsDTO) {
        this.localStorageService.set(STORAGE_DATA.CONNECTIONS, connectionsDTO);
    };
    AppStorageService.prototype.addConnection = function (connectionDTO) {
        var connections = this.getConnections();
        connections.push(connectionDTO);
        this.setConnections(connections);
    };
    AppStorageService.prototype.getConnections = function () {
        var connections = this.localStorageService.get(STORAGE_DATA.CONNECTIONS);
        return connections != null ? connections : [];
    };
    AppStorageService.prototype.setBooks = function (booksDTO) {
        this.localStorageService.set(STORAGE_DATA.BOOKS, booksDTO);
    };
    AppStorageService.prototype.getBooks = function () {
        var books = this.localStorageService.get(STORAGE_DATA.BOOKS);
        return books != null ? books : [];
    };
    AppStorageService.prototype.addBook = function (bookDTO) {
        var books = this.getBooks();
        books.push(bookDTO);
        this.setBooks(books);
    };
    AppStorageService.prototype.deleteBook = function (bookDTO) {
        var books = this.getBooks().splice(this.getBooks().indexOf(bookDTO), 1);
        this.setBooks(books);
    };
    AppStorageService.prototype.updateBook = function (bookDTO) {
    };
    AppStorageService.prototype.getUserConnections = function () {
        return this.localStorageService.get(STORAGE_DATA.USER_CONNECTIONS);
    };
    AppStorageService.prototype.setUserConnections = function (usersDTO) {
        this.localStorageService.set(STORAGE_DATA.USER_CONNECTIONS, usersDTO);
    };
    AppStorageService.ctorParameters = function () { return [
        { type: angular_2_local_storage__WEBPACK_IMPORTED_MODULE_1__["LocalStorageService"] }
    ]; };
    AppStorageService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [angular_2_local_storage__WEBPACK_IMPORTED_MODULE_1__["LocalStorageService"]])
    ], AppStorageService);
    return AppStorageService;
}());

var STORAGE_DATA;
(function (STORAGE_DATA) {
    STORAGE_DATA["USER"] = "userDTO";
    STORAGE_DATA["CONNECTIONS"] = "connections";
    STORAGE_DATA["BOOKS"] = "booksDTO";
    STORAGE_DATA["USER_CONNECTIONS"] = "userConnections";
    STORAGE_DATA["TOKEN"] = "token";
})(STORAGE_DATA || (STORAGE_DATA = {}));


/***/ }),

/***/ "./src/app/er-local-storage/er-local-storage.module.ts":
/*!*************************************************************!*\
  !*** ./src/app/er-local-storage/er-local-storage.module.ts ***!
  \*************************************************************/
/*! exports provided: ErLocalStorageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ErLocalStorageModule", function() { return ErLocalStorageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var angular_2_local_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular-2-local-storage */ "./node_modules/angular-2-local-storage/fesm5/angular-2-local-storage.js");
/* harmony import */ var _app_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




var ErLocalStorageModule = /** @class */ (function () {
    function ErLocalStorageModule() {
    }
    ErLocalStorageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: [],
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                angular_2_local_storage__WEBPACK_IMPORTED_MODULE_2__["LocalStorageModule"].forRoot({
                    prefix: 'er',
                    storageType: 'localStorage'
                }),
            ],
            providers: [
                _app_storage_service__WEBPACK_IMPORTED_MODULE_3__["AppStorageService"]
            ]
        })
    ], ErLocalStorageModule);
    return ErLocalStorageModule;
}());



/***/ }),

/***/ "./src/app/models/ConnectionDTO.ts":
/*!*****************************************!*\
  !*** ./src/app/models/ConnectionDTO.ts ***!
  \*****************************************/
/*! exports provided: ConnectionDTO */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConnectionDTO", function() { return ConnectionDTO; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var ConnectionDTO = /** @class */ (function () {
    function ConnectionDTO() {
    }
    return ConnectionDTO;
}());



/***/ }),

/***/ "./src/app/models/UserDTO.ts":
/*!***********************************!*\
  !*** ./src/app/models/UserDTO.ts ***!
  \***********************************/
/*! exports provided: UserDTO */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserDTO", function() { return UserDTO; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
var UserDTO = /** @class */ (function () {
    function UserDTO() {
    }
    return UserDTO;
}());



/***/ }),

/***/ "./src/app/services/auth.service.ts":
/*!******************************************!*\
  !*** ./src/app/services/auth.service.ts ***!
  \******************************************/
/*! exports provided: AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var AuthService = /** @class */ (function () {
    function AuthService(appStorageService) {
        this.appStorageService = appStorageService;
    }
    AuthService.prototype.getToken = function () {
        return this.appStorageService.getToken();
    };
    AuthService.prototype.isAuthenticated = function () {
        // get the token
        var token = this.getToken();
        // return a boolean reflecting
        // whether or not the token is expired
        return token != null;
    };
    AuthService.ctorParameters = function () { return [
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_1__["AppStorageService"] }
    ]; };
    AuthService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_1__["AppStorageService"]])
    ], AuthService);
    return AuthService;
}());



/***/ }),

/***/ "./src/app/services/cache/caching-interceptor.ts":
/*!*******************************************************!*\
  !*** ./src/app/services/cache/caching-interceptor.ts ***!
  \*******************************************************/
/*! exports provided: CachingInterceptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CachingInterceptor", function() { return CachingInterceptor; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _request_cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./request-cache */ "./src/app/services/cache/request-cache.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





var CachingInterceptor = /** @class */ (function () {
    function CachingInterceptor(cache) {
        this.cache = cache;
        this.toBeCachedUrls = ['book-controller/downloadFile'];
    }
    CachingInterceptor.prototype.intercept = function (req, next) {
        if (this.shouldBeCached(req.url)) {
            var cachedResponse = this.cache.get(req);
            return cachedResponse ? Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(cachedResponse) : this.sendRequest(req, next, this.cache);
        }
        else {
            return next.handle(req);
        }
    };
    CachingInterceptor.prototype.sendRequest = function (req, next, cache) {
        return next.handle(req).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["tap"])(function (event) {
            if (event instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpResponse"]) {
                cache.put(req, event);
            }
        }));
    };
    CachingInterceptor.prototype.shouldBeCached = function (url) {
        for (var _i = 0, _a = this.toBeCachedUrls; _i < _a.length; _i++) {
            var urlString = _a[_i];
            if (url.toLowerCase().indexOf(urlString.toLowerCase()) >= 0) {
                return true;
            }
        }
        return false;
    };
    CachingInterceptor.ctorParameters = function () { return [
        { type: _request_cache__WEBPACK_IMPORTED_MODULE_4__["RequestCache"] }
    ]; };
    CachingInterceptor = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_request_cache__WEBPACK_IMPORTED_MODULE_4__["RequestCache"]])
    ], CachingInterceptor);
    return CachingInterceptor;
}());



/***/ }),

/***/ "./src/app/services/cache/request-cache.ts":
/*!*************************************************!*\
  !*** ./src/app/services/cache/request-cache.ts ***!
  \*************************************************/
/*! exports provided: RequestCache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RequestCache", function() { return RequestCache; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};

var maxAge = 30000000;
var RequestCache = /** @class */ (function () {
    function RequestCache() {
        this.cache = new Map();
    }
    RequestCache.prototype.get = function (req) {
        var url = req.urlWithParams;
        var cached = this.cache.get(url);
        if (!cached) {
            return undefined;
        }
        var isExpired = cached.lastRead < (Date.now() - maxAge);
        var expired = isExpired ? 'expired ' : '';
        return cached.response;
    };
    RequestCache.prototype.put = function (req, response) {
        var _this = this;
        var url = req.url;
        var entry = { url: url, response: response, lastRead: Date.now() };
        this.cache.set(url, entry);
        var expired = Date.now() - maxAge;
        this.cache.forEach(function (expiredEntry) {
            if (expiredEntry.lastRead < expired) {
                _this.cache.delete(expiredEntry.url);
            }
        });
    };
    RequestCache = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        })
    ], RequestCache);
    return RequestCache;
}());



/***/ }),

/***/ "./src/app/services/http-parse.service.ts":
/*!************************************************!*\
  !*** ./src/app/services/http-parse.service.ts ***!
  \************************************************/
/*! exports provided: HttpParseService, RestControllers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpParseService", function() { return HttpParseService; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RestControllers", function() { return RestControllers; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _models_UserDTO__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/UserDTO */ "./src/app/models/UserDTO.ts");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
/* harmony import */ var _models_ConnectionDTO__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../models/ConnectionDTO */ "./src/app/models/ConnectionDTO.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};






var HttpParseService = /** @class */ (function () {
    // public parseURL = 'http://vps658548.ovh.net:8080/';
    function HttpParseService(httpClient, appStorageService) {
        this.httpClient = httpClient;
        this.appStorageService = appStorageService;
        this.parseURL = 'http://' + window.location.hostname + ':8080/';
    }
    HttpParseService.prototype.loginUser = function (userDTO) {
        var _this = this;
        var subject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.httpClient.post(this.parseURL + RestControllers.AUTH + '/authenticate', {
            username: userDTO.email,
            password: userDTO.password
        }).subscribe(function (res) {
            _this.appStorageService.setToken(res.token);
            _this.httpClient.get(_this.parseURL + RestControllers.USER + '/getUser', _this.createHttpOptions()).subscribe(function (userDTO) {
                subject.next(userDTO);
            });
        });
        return subject.asObservable();
    };
    HttpParseService.prototype.signUpUser = function (userDTO) {
        var _this = this;
        var subject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        var user = {};
        user.username = userDTO.email;
        user.name = userDTO.username;
        user.email = userDTO.email;
        user.password = userDTO.password;
        this.httpClient.post(this.parseURL + RestControllers.AUTH + '/signup', user).subscribe(function (res) {
            _this.appStorageService.setToken(res.token);
            _this.httpClient.get(_this.parseURL + RestControllers.USER + '/getUser').subscribe(function (userDTO) {
                subject.next(userDTO);
            });
        });
        return subject.asObservable();
    };
    // start books
    HttpParseService.prototype.uploadFile = function (byteArrayFile, fileName) {
        return this.httpClient.post(this.parseURL + RestControllers.BOOK + '/uploadFile/' + fileName, byteArrayFile, this.createHttpOptionsEpub());
    };
    HttpParseService.prototype.addBook = function (bookDTO) {
        var _this = this;
        var subject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        var userDTO = this.appStorageService.getUserDTO();
        this.uploadFile(bookDTO.bookContent, bookDTO.fileName).subscribe(function (res) {
            bookDTO.fileUrl = res;
            bookDTO.fileUrlName = bookDTO.fileName;
            bookDTO.userId = userDTO.objectId;
            _this.httpClient.post(_this.parseURL + RestControllers.BOOK + '/addBook', bookDTO, _this.createHttpOptions())
                .subscribe(function (book) {
                bookDTO.objectId = book.objectId;
                subject.next(bookDTO);
            });
        });
        return subject.asObservable();
    };
    HttpParseService.prototype.getBooksForUser = function () {
        return this.httpClient.get(this.parseURL + RestControllers.BOOK + '/getBooks');
    };
    HttpParseService.prototype.getSharedWithMeBooks = function () {
        return this.httpClient.get(this.parseURL + RestControllers.BOOK + '/getSharedWithMeBooks');
    };
    HttpParseService.prototype.getBookById = function (bookId) {
        return this.httpClient.get(this.parseURL + RestControllers.BOOK + '/getBookById?bookId=' + bookId);
    };
    HttpParseService.prototype.booksCount = function () {
        return this.httpClient.get(this.parseURL + RestControllers.BOOK + '/booksCount');
    };
    HttpParseService.prototype.getBookContent = function (bookUrl) {
        return this.httpClient.get(bookUrl, { responseType: 'blob' });
    };
    HttpParseService.prototype.deleteBook = function (bookDTO) {
        return this.httpClient.delete(this.parseURL + RestControllers.BOOK + '/deleteBook/' + bookDTO.objectId);
    };
    HttpParseService.prototype.updateLastCfi = function (bookId, lastCfi) {
        return this.httpClient.put(this.parseURL + RestControllers.BOOK + '/updateLastCfi/' + bookId + '?lastCfi=' + encodeURI(lastCfi), null);
    };
    // end books
    HttpParseService.prototype.updateLastReadBook = function (bookDTO) {
        var userDTO = this.appStorageService.getUserDTO();
        userDTO.lastReadBook = bookDTO.objectId;
        this.appStorageService.setUserDTO(userDTO);
        return this.httpClient.put(this.parseURL + RestControllers.USER + '/updateLastReadBook?lastReadBook=' + bookDTO.objectId, null, { headers: this.createFullHeaders() });
    };
    HttpParseService.prototype.updateFontSize = function (fontSize) {
        this.appStorageService.setFontSize(fontSize);
        return this.httpClient.put(this.parseURL + RestControllers.USER + '/updateFontSize?fontSize=' + fontSize, null, { headers: this.createFullHeaders() });
    };
    HttpParseService.prototype.updateTextColor = function (textColor) {
        this.appStorageService.setTextColor(textColor);
        return this.httpClient.put(this.parseURL + RestControllers.USER + '/updateTextColor?textColor=' + textColor, null, { headers: this.createFullHeaders() });
    };
    HttpParseService.prototype.updateBackgroundColor = function (backgroundColor) {
        this.appStorageService.setBackgroundColor(backgroundColor);
        return this.httpClient.put(this.parseURL + RestControllers.USER + '/updateBackgroundColor?backgroundColor=' + backgroundColor, null, { headers: this.createFullHeaders() });
    };
    HttpParseService.prototype.updateTextBold = function (isBold) {
        this.appStorageService.setTextBold(isBold);
        return this.httpClient.put(this.parseURL + RestControllers.USER + '/updateTextBold?isBold=' + isBold, null, { headers: this.createFullHeaders() });
    };
    HttpParseService.prototype.updateTextItalic = function (isItalic) {
        this.appStorageService.setTextItalic(isItalic);
        return this.httpClient.put(this.parseURL + RestControllers.USER + '/updateTextItalic?isItalic=' + isItalic, null, { headers: this.createFullHeaders() });
    };
    HttpParseService.prototype.updateNavigationControl = function (showNavigationControl) {
        this.appStorageService.setNavigationControl(showNavigationControl);
        return this.httpClient.put(this.parseURL + RestControllers.USER + '/updateNavigationControl?showNavigationControl=' + showNavigationControl, null, { headers: this.createFullHeaders() });
    };
    HttpParseService.prototype.updateTheme = function (theme) {
        this.appStorageService.setTheme(theme);
        return this.httpClient.put(this.parseURL + RestControllers.USER + '/updateTheme?theme=' + theme, null, { headers: this.createFullHeaders() });
    };
    HttpParseService.prototype.updateFavoritesBooks = function (favoriteBooks, userDTO) {
        this.appStorageService.setUserDTO(userDTO);
        return this.httpClient.put(this.parseURL + RestControllers.USER + '/updateFavoritesBooks', favoriteBooks, { headers: this.createFullHeaders() });
    };
    HttpParseService.prototype.updateOpenLastRead = function (userDTO) {
        this.appStorageService.setUserDTO(userDTO);
        return this.httpClient.put(this.parseURL + RestControllers.USER + '/updateOpenLastRead/?goToLastRead=' + userDTO.goToLastRead, null, { headers: this.createFullHeaders() });
    };
    HttpParseService.prototype.getBookmarks = function (bookDTO) {
        return this.httpClient.get(this.parseURL + RestControllers.BOOKMARKS + '/getBookmarks?bookId=' + bookDTO.objectId);
    };
    HttpParseService.prototype.deleteBookMark = function (bookMarkDTO) {
        return this.httpClient
            .delete(this.parseURL + RestControllers.BOOKMARKS + '/deleteBookmark/' + bookMarkDTO.objectId);
    };
    HttpParseService.prototype.addBookmark = function (bookMarkDTO) {
        return this.httpClient.post(this.parseURL + RestControllers.BOOKMARKS + '/addBookmark', bookMarkDTO, this.createHttpOptions());
    };
    // start social
    HttpParseService.prototype.getAllUsers = function () {
        var subject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        var query = encodeURI('{"email": {"$ne":"' + this.appStorageService.getUserDTO().email + '"}}');
        this.httpClient.get(this.parseURL + RestControllers.USER + '?where=' + query, this.createHttpOptions())
            .subscribe(function (res) {
            var usersDTO = [];
            res.forEach(function (user) {
                var userDTO = new _models_UserDTO__WEBPACK_IMPORTED_MODULE_3__["UserDTO"]();
                userDTO.username = user.name;
                userDTO.objectId = user.objectId;
                userDTO.email = user.email;
                usersDTO.push(userDTO);
            });
            subject.next(usersDTO);
        });
        return subject.asObservable();
    };
    HttpParseService.prototype.getUnconnectedUsers = function () {
        return this.httpClient.get(this.parseURL + RestControllers.USER + '/getUnconnectedUsers', this.createHttpOptions());
    };
    HttpParseService.prototype.getMyConnectedUsers = function () {
        return this.httpClient.get(this.parseURL + RestControllers.USER + '/getMyConnections', this.createHttpOptions());
    };
    HttpParseService.prototype.addConenction = function (reuqestedUserDTO) {
        var connectionDTO = new _models_ConnectionDTO__WEBPACK_IMPORTED_MODULE_5__["ConnectionDTO"]();
        connectionDTO.firstUserId = this.appStorageService.getUserDTO().objectId;
        connectionDTO.secondUserId = reuqestedUserDTO.objectId;
        connectionDTO.firstUserAccepted = true;
        connectionDTO.secondUserAccepted = false;
        return this.httpClient.post(this.parseURL + RestControllers.CONNECTIONS + '/addConnection', connectionDTO, this.createHttpOptions());
    };
    HttpParseService.prototype.getMyPendingConnection = function () {
        return this.httpClient.get(this.parseURL + RestControllers.CONNECTIONS + '/getPendingConnections', this.createHttpOptions());
    };
    HttpParseService.prototype.getReceivedConnections = function () {
        return this.httpClient.get(this.parseURL + RestControllers.CONNECTIONS + '/getReceivedConnections', this.createHttpOptions());
    };
    HttpParseService.prototype.getMyConnections = function () {
        return this.httpClient.get(this.parseURL + RestControllers.CONNECTIONS + '/getMyConnections', this.createHttpOptions());
    };
    HttpParseService.prototype.getUsersByIds = function (userIds) {
        return this.httpClient.post(this.parseURL + RestControllers.USER + '/getUsersByIds', userIds, this.createHttpOptions());
    };
    HttpParseService.prototype.acceptConnection = function (connectionDTO) {
        return this.httpClient.put(this.parseURL + RestControllers.CONNECTIONS + '/acceptConnection/' + connectionDTO.objectId, null, this.createHttpOptions());
    };
    HttpParseService.prototype.connectionsCount = function () {
        return this.httpClient.get(this.parseURL + RestControllers.CONNECTIONS + '/connectionsCount');
    };
    HttpParseService.prototype.shareWithUser = function (user, book) {
        return this.httpClient.put(this.parseURL + RestControllers.CONNECTIONS + '/shareBookWithUser/' + user.objectId + '/' + book.objectId + '/10', null);
    };
    // end social
    /*
        private createHttpOptions() {
            let httpHeaders: HttpHeaders = new HttpHeaders();
            httpHeaders = httpHeaders.append('X-Parse-Application-Id', 'sublime-reader-appId');
            httpHeaders = httpHeaders.append('X-Parse-REST-API-Key', 'sublime-reader-restApiKey');
            return httpHeaders;
        }*/
    HttpParseService.prototype.createHttpOptions = function () {
        var httpHeaders = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]();
        httpHeaders = httpHeaders.append('Authorization', 'Bearer ' + this.appStorageService.getToken());
        var options = {
            headers: httpHeaders,
        };
        return options;
    };
    HttpParseService.prototype.createHttpOptionsBlob = function () {
        var httpHeaders = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]();
        httpHeaders = httpHeaders.append('Authorization', 'Bearer ' + this.appStorageService.getToken());
        var options = {
            headers: httpHeaders,
            // withCredentials: true,
            responseType: 'blob'
        };
        return options;
    };
    HttpParseService.prototype.createHttpOptionsEpub = function () {
        var httpHeaders = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]();
        httpHeaders = httpHeaders.append('Content-Type', 'application/epub+zip');
        var options = {
            headers: httpHeaders,
            // withCredentials: true
            responseType: 'text'
        };
        return options;
    };
    HttpParseService.prototype.createFullHeaders = function () {
        var httpHeaders = new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]();
        httpHeaders = httpHeaders.append('X-Parse-Application-Id', 'sublime-reader-appId');
        httpHeaders = httpHeaders.append('X-Parse-REST-API-Key', 'sublime-reader-restApiKey');
        httpHeaders = httpHeaders.append('X-Parse-Master-Key', 'sublime-reader-masterKey');
        return httpHeaders;
    };
    HttpParseService.prototype.initApp = function () {
        var _this = this;
        if (this.appStorageService.getConnections() == null) {
            this.getMyConnections().subscribe(function (res) {
                _this.appStorageService.setConnections(res);
            });
        }
        if (this.appStorageService.getUserConnections() == null) {
            this.getMyConnectedUsers().subscribe(function (res) {
                _this.appStorageService.setUserConnections(res);
            });
        }
        else {
            this.connectionsCount().subscribe(function (res) {
                if (_this.appStorageService.getUserConnections().length != res) {
                    _this.getMyConnectedUsers().subscribe(function (res) {
                        _this.appStorageService.setUserConnections(res);
                    });
                }
            });
        }
        if (this.appStorageService.getBooks() == null) {
            this.getBooksForUser().subscribe(function (books) {
                _this.appStorageService.setBooks(books);
            });
        }
        else {
            this.booksCount().subscribe(function (res) {
                if (_this.appStorageService.getBooks().length != res) {
                    _this.getBooksForUser().subscribe(function (books) {
                        _this.appStorageService.setBooks(books);
                    });
                }
            });
        }
    };
    HttpParseService.ctorParameters = function () { return [
        { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] },
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_4__["AppStorageService"] }
    ]; };
    HttpParseService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_4__["AppStorageService"]])
    ], HttpParseService);
    return HttpParseService;
}());

var RestControllers;
(function (RestControllers) {
    RestControllers["AUTH"] = "jwt-controller";
    RestControllers["BOOK"] = "book-controller";
    RestControllers["USER"] = "user-controller";
    RestControllers["BOOKMARKS"] = "bookmarks-controller";
    RestControllers["CONNECTIONS"] = "connection-controller";
})(RestControllers || (RestControllers = {}));


/***/ }),

/***/ "./src/app/services/loading.service.ts":
/*!*********************************************!*\
  !*** ./src/app/services/loading.service.ts ***!
  \*********************************************/
/*! exports provided: LoadingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadingService", function() { return LoadingService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var LoadingService = /** @class */ (function () {
    function LoadingService(loadingController) {
        this.loadingController = loadingController;
        this.isLoaderPresent = false;
    }
    LoadingService.prototype.showLoader = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!!this.isLoaderPresent) return [3 /*break*/, 2];
                        this.isLoaderPresent = true;
                        _a = this;
                        return [4 /*yield*/, this.loadingController.create()];
                    case 1:
                        _a.loading = _b.sent();
                        this.loading.present();
                        _b.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        });
    };
    LoadingService.prototype.dismissLoader = function () {
        while (this.loading == null) {
            setTimeout(function () {
            }, 200);
        }
        this.loading.dismiss();
        this.isLoaderPresent = false;
    };
    LoadingService.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["LoadingController"] }
    ]; };
    LoadingService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["LoadingController"]])
    ], LoadingService);
    return LoadingService;
}());



/***/ }),

/***/ "./src/app/services/token-interceptor.service.ts":
/*!*******************************************************!*\
  !*** ./src/app/services/token-interceptor.service.ts ***!
  \*******************************************************/
/*! exports provided: TokenInterceptorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TokenInterceptorService", function() { return TokenInterceptorService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auth.service */ "./src/app/services/auth.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





var TokenInterceptorService = /** @class */ (function () {
    function TokenInterceptorService(auth, appStorageService) {
        this.auth = auth;
        this.appStorageService = appStorageService;
    }
    TokenInterceptorService.prototype.intercept = function (request, next) {
        var _this = this;
        if (this.auth.getToken() != null) {
            request = request.clone({
                setHeaders: {
                    Authorization: "Bearer " + this.auth.getToken()
                }
            });
        }
        return next.handle(request).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (event) {
            if (event instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpResponse"]) {
                // do stuff with response if you want
            }
        }, function (err) {
            if (err instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpErrorResponse"]) {
                if (err.status === 401) {
                    _this.appStorageService.clearUser();
                    window.location.pathname = '/auth/login';
                }
            }
        }));
    };
    TokenInterceptorService.ctorParameters = function () { return [
        { type: _auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthService"] },
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_4__["AppStorageService"] }
    ]; };
    TokenInterceptorService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthService"],
            _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_4__["AppStorageService"]])
    ], TokenInterceptorService);
    return TokenInterceptorService;
}());



/***/ }),

/***/ "./src/app/services/upload.service.ts":
/*!********************************************!*\
  !*** ./src/app/services/upload.service.ts ***!
  \********************************************/
/*! exports provided: UploadService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadService", function() { return UploadService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _http_parse_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./http-parse.service */ "./src/app/services/http-parse.service.ts");
/* harmony import */ var _ebook_reader_dto_BookDTO__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ebook-reader/dto/BookDTO */ "./src/app/ebook-reader/dto/BookDTO.ts");
/* harmony import */ var _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ebook-reader/services/menu.service */ "./src/app/ebook-reader/services/menu.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





var UploadService = /** @class */ (function () {
    function UploadService(httpParseService, menuService, alertController, menuCtrl, toastController) {
        this.httpParseService = httpParseService;
        this.menuService = menuService;
        this.alertController = alertController;
        this.menuCtrl = menuCtrl;
        this.toastController = toastController;
    }
    UploadService.prototype.readFile = function (file) {
        return __awaiter(this, void 0, void 0, function () {
            var reader;
            var _this = this;
            return __generator(this, function (_a) {
                this.presentToast('Start uploading ' + file.name + '...');
                reader = new FileReader();
                reader.onload = function (e) {
                    var book = new _ebook_reader_dto_BookDTO__WEBPACK_IMPORTED_MODULE_2__["BookDTO"]();
                    book.bookContent = e.target.result;
                    book.fileName = file.name;
                    book.fileId = file.id;
                    _this.httpParseService.addBook(book).subscribe(function (res) {
                        _this.menuService.menuEmitter.next({ type: _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_3__["MenuEvents"].BOOKS_ADDED, value: book });
                        _this.presentToast('File ' + file.name + ' uploaded');
                    });
                };
                reader.readAsArrayBuffer(file);
                this.menuCtrl.toggle().then();
                return [2 /*return*/];
            });
        });
    };
    UploadService.prototype.presentToast = function (message) {
        return __awaiter(this, void 0, void 0, function () {
            var toast;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: message,
                            duration: 2000
                        })];
                    case 1:
                        toast = _a.sent();
                        toast.present();
                        return [2 /*return*/];
                }
            });
        });
    };
    UploadService.ctorParameters = function () { return [
        { type: _http_parse_service__WEBPACK_IMPORTED_MODULE_1__["HttpParseService"] },
        { type: _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_3__["MenuService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["MenuController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ToastController"] }
    ]; };
    UploadService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_http_parse_service__WEBPACK_IMPORTED_MODULE_1__["HttpParseService"],
            _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_3__["MenuService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["MenuController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["ToastController"]])
    ], UploadService);
    return UploadService;
}());



/***/ }),

/***/ "./src/app/shelf/book-popover/book-popover.component.scss":
/*!****************************************************************!*\
  !*** ./src/app/shelf/book-popover/book-popover.component.scss ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoZWxmL2Jvb2stcG9wb3Zlci9ib29rLXBvcG92ZXIuY29tcG9uZW50LnNjc3MifQ== */");

/***/ }),

/***/ "./src/app/shelf/book-popover/book-popover.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/shelf/book-popover/book-popover.component.ts ***!
  \**************************************************************/
/*! exports provided: BookPopoverComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BookPopoverComponent", function() { return BookPopoverComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _services_http_parse_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/http-parse.service */ "./src/app/services/http-parse.service.ts");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
/* harmony import */ var _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ebook-reader/services/menu.service */ "./src/app/ebook-reader/services/menu.service.ts");
/* harmony import */ var _share_book_share_book_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../share-book/share-book.component */ "./src/app/shelf/share-book/share-book.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};






var BookPopoverComponent = /** @class */ (function () {
    function BookPopoverComponent(navParams, appStorageService, httpParseService, menuService, popoverController, modalController) {
        this.navParams = navParams;
        this.appStorageService = appStorageService;
        this.httpParseService = httpParseService;
        this.menuService = menuService;
        this.popoverController = popoverController;
        this.modalController = modalController;
        this.favoritesBooks = [];
    }
    BookPopoverComponent.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.bookDTO = this.navParams.get('bookDTO');
                this.userDTO = this.appStorageService.getUserDTO();
                if (this.userDTO.favoritesBook != null) {
                    this.favoritesBooks = this.userDTO.favoritesBook.split(",");
                }
                return [2 /*return*/];
            });
        });
    };
    BookPopoverComponent.prototype.isFavoriteBook = function () {
        return this.favoritesBooks.indexOf(this.bookDTO.objectId) > -1;
    };
    BookPopoverComponent.prototype.setFavorites = function (setFav) {
        var _this = this;
        if (!setFav) {
            var indexOfBook = this.favoritesBooks.findIndex(function (objectId) { return objectId == _this.bookDTO.objectId; });
            this.favoritesBooks.splice(indexOfBook, 1);
        }
        else {
            this.favoritesBooks.push(this.bookDTO.objectId);
        }
        this.userDTO.favoritesBook = this.favoritesBooks.join(",");
        this.httpParseService.updateFavoritesBooks(this.favoritesBooks, this.userDTO).subscribe(function (res) {
            _this.menuService.menuEmitter.next({
                type: _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_4__["MenuEvents"].FAVORITES_CHANGED,
                value: _this.userDTO.favoritesBook
            });
            _this.popoverController.dismiss();
        });
    };
    BookPopoverComponent.prototype.deleteBook = function () {
        var _this = this;
        this.httpParseService.deleteBook(this.bookDTO).subscribe(function (res) {
            _this.menuService.menuEmitter.next({
                type: _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_4__["MenuEvents"].BOOK_DELETED,
                value: _this.bookDTO
            });
            _this.popoverController.dismiss();
        });
    };
    BookPopoverComponent.prototype.shareBook = function () {
        return __awaiter(this, void 0, void 0, function () {
            var modal, e_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4 /*yield*/, this.modalController.create({
                                component: _share_book_share_book_component__WEBPACK_IMPORTED_MODULE_5__["ShareBookComponent"],
                                componentProps: { 'bookDTO': this.bookDTO },
                                showBackdrop: true,
                                backdropDismiss: true
                            })];
                    case 1:
                        modal = _a.sent();
                        this.popoverController.dismiss();
                        modal.present();
                        return [3 /*break*/, 3];
                    case 2:
                        e_1 = _a.sent();
                        console.error(e_1);
                        return [3 /*break*/, 3];
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    BookPopoverComponent.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavParams"] },
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__["AppStorageService"] },
        { type: _services_http_parse_service__WEBPACK_IMPORTED_MODULE_2__["HttpParseService"] },
        { type: _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_4__["MenuService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"] }
    ]; };
    BookPopoverComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-book-popover',
            template: __importDefault(__webpack_require__(/*! raw-loader!./book-popover.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/book-popover/book-popover.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./book-popover.component.scss */ "./src/app/shelf/book-popover/book-popover.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavParams"],
            _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__["AppStorageService"],
            _services_http_parse_service__WEBPACK_IMPORTED_MODULE_2__["HttpParseService"],
            _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_4__["MenuService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"]])
    ], BookPopoverComponent);
    return BookPopoverComponent;
}());



/***/ }),

/***/ "./src/app/shelf/my-books-menu/my-books-menu.component.scss":
/*!******************************************************************!*\
  !*** ./src/app/shelf/my-books-menu/my-books-menu.component.scss ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoZWxmL215LWJvb2tzLW1lbnUvbXktYm9va3MtbWVudS5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "./src/app/shelf/my-books-menu/my-books-menu.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/shelf/my-books-menu/my-books-menu.component.ts ***!
  \****************************************************************/
/*! exports provided: MyBooksMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MyBooksMenuComponent", function() { return MyBooksMenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _services_http_parse_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/http-parse.service */ "./src/app/services/http-parse.service.ts");
/* harmony import */ var _social_people_people_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../social/people/people.component */ "./src/app/social/people/people.component.ts");
/* harmony import */ var _social_pending_connections_pending_connections_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../social/pending-connections/pending-connections.component */ "./src/app/social/pending-connections/pending-connections.component.ts");
/* harmony import */ var _services_upload_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/upload.service */ "./src/app/services/upload.service.ts");
/* harmony import */ var _social_my_connections_my_connections_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../social/my-connections/my-connections.component */ "./src/app/social/my-connections/my-connections.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};








var MyBooksMenuComponent = /** @class */ (function () {
    function MyBooksMenuComponent(storage, httpParseService, alertController, modalController, uploadService) {
        this.storage = storage;
        this.httpParseService = httpParseService;
        this.alertController = alertController;
        this.modalController = modalController;
        this.uploadService = uploadService;
        this.filesArray = [];
    }
    MyBooksMenuComponent.prototype.onUploadOutput = function (output) {
        var _this = this;
        if (output.type == 'allAddedToQueue') {
            this.httpParseService.getBooksForUser().subscribe(function (bookDTO) {
                _this.filesArray.forEach(function (file) {
                    var foundedBook = _this.bookExists(bookDTO, file.name);
                    if (foundedBook.length != 0) {
                        _this.presentAlert(file.name).then();
                    }
                    else {
                        _this.uploadService.readFile(file);
                    }
                });
            });
        }
        if (output.type === 'addedToQueue' && typeof output.file !== 'undefined') {
            this.filesArray.push(output.file.nativeFile);
        }
    };
    MyBooksMenuComponent.prototype.bookExists = function (bookDTO, fileName) {
        var foundedBook = bookDTO.filter(function (bookDTO) { return bookDTO.fileName.toLowerCase() == fileName.toLowerCase(); });
        return foundedBook;
    };
    MyBooksMenuComponent.prototype.presentAlert = function (bookTitle) {
        return __awaiter(this, void 0, void 0, function () {
            var alert;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.alertController.create({
                            header: 'Book exists',
                            message: 'This is book is already added ' + bookTitle,
                            buttons: ['OK']
                        })];
                    case 1:
                        alert = _a.sent();
                        return [4 /*yield*/, alert.present()];
                    case 2:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    MyBooksMenuComponent.prototype.ngOnInit = function () {
        this.options = { allowedContentTypes: ['application/epub+zip'] };
    };
    MyBooksMenuComponent.prototype.openPeople = function () {
        return __awaiter(this, void 0, void 0, function () {
            var modal, data, e_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        return [4 /*yield*/, this.modalController.create({
                                component: _social_people_people_component__WEBPACK_IMPORTED_MODULE_4__["PeopleComponent"],
                                componentProps: {},
                                showBackdrop: true,
                                backdropDismiss: true
                            })];
                    case 1:
                        modal = _a.sent();
                        modal.present();
                        return [4 /*yield*/, modal.onWillDismiss()];
                    case 2:
                        data = (_a.sent()).data;
                        return [3 /*break*/, 4];
                    case 3:
                        e_1 = _a.sent();
                        console.error(e_1);
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    MyBooksMenuComponent.prototype.openPendingInvites = function () {
        return __awaiter(this, void 0, void 0, function () {
            var modal, data, e_2;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        return [4 /*yield*/, this.modalController.create({
                                component: _social_pending_connections_pending_connections_component__WEBPACK_IMPORTED_MODULE_5__["PendingConnectionsComponent"],
                                componentProps: {},
                                showBackdrop: true,
                                backdropDismiss: true
                            })];
                    case 1:
                        modal = _a.sent();
                        modal.present();
                        return [4 /*yield*/, modal.onWillDismiss()];
                    case 2:
                        data = (_a.sent()).data;
                        return [3 /*break*/, 4];
                    case 3:
                        e_2 = _a.sent();
                        console.error(e_2);
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    MyBooksMenuComponent.prototype.openMyConnections = function () {
        return __awaiter(this, void 0, void 0, function () {
            var modal, data, e_3;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 3, , 4]);
                        return [4 /*yield*/, this.modalController.create({
                                component: _social_my_connections_my_connections_component__WEBPACK_IMPORTED_MODULE_7__["MyConnectionsComponent"],
                                componentProps: {},
                                showBackdrop: true,
                                backdropDismiss: true
                            })];
                    case 1:
                        modal = _a.sent();
                        modal.present();
                        return [4 /*yield*/, modal.onWillDismiss()];
                    case 2:
                        data = (_a.sent()).data;
                        return [3 /*break*/, 4];
                    case 3:
                        e_3 = _a.sent();
                        console.error(e_3);
                        return [3 /*break*/, 4];
                    case 4: return [2 /*return*/];
                }
            });
        });
    };
    MyBooksMenuComponent.ctorParameters = function () { return [
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"] },
        { type: _services_http_parse_service__WEBPACK_IMPORTED_MODULE_3__["HttpParseService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"] },
        { type: _services_upload_service__WEBPACK_IMPORTED_MODULE_6__["UploadService"] }
    ]; };
    MyBooksMenuComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-my-books-menu',
            template: __importDefault(__webpack_require__(/*! raw-loader!./my-books-menu.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/my-books-menu/my-books-menu.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./my-books-menu.component.scss */ "./src/app/shelf/my-books-menu/my-books-menu.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"],
            _services_http_parse_service__WEBPACK_IMPORTED_MODULE_3__["HttpParseService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["AlertController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"],
            _services_upload_service__WEBPACK_IMPORTED_MODULE_6__["UploadService"]])
    ], MyBooksMenuComponent);
    return MyBooksMenuComponent;
}());



/***/ }),

/***/ "./src/app/shelf/share-book/share-book.component.scss":
/*!************************************************************!*\
  !*** ./src/app/shelf/share-book/share-book.component.scss ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoZWxmL3NoYXJlLWJvb2svc2hhcmUtYm9vay5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "./src/app/shelf/share-book/share-book.component.ts":
/*!**********************************************************!*\
  !*** ./src/app/shelf/share-book/share-book.component.ts ***!
  \**********************************************************/
/*! exports provided: ShareBookComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShareBookComponent", function() { return ShareBookComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
/* harmony import */ var _services_http_parse_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/http-parse.service */ "./src/app/services/http-parse.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




var ShareBookComponent = /** @class */ (function () {
    function ShareBookComponent(modalController, navParams, appStorageService, httpParseService, toastController) {
        this.modalController = modalController;
        this.navParams = navParams;
        this.appStorageService = appStorageService;
        this.httpParseService = httpParseService;
        this.toastController = toastController;
        this.isOkToRender = false;
    }
    ShareBookComponent.prototype.ngOnInit = function () {
        this.connections = this.appStorageService.getUserConnections();
        this.isOkToRender = true;
    };
    ShareBookComponent.prototype.dismissModal = function () {
        this.modalController.dismiss();
    };
    ShareBookComponent.prototype.shareWithUser = function (user) {
        return __awaiter(this, void 0, void 0, function () {
            var toastSharedBook;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.toastController.create({
                            message: 'Book ' + this.bookDTO.fileName + ' shared with ' + user.username + ' for 10 days.',
                            duration: 2000
                        })];
                    case 1:
                        toastSharedBook = _a.sent();
                        this.httpParseService.shareWithUser(user, this.bookDTO).subscribe(function (res) {
                            toastSharedBook.present();
                        }, function (e) { return console.error(e); });
                        return [2 /*return*/];
                }
            });
        });
    };
    ShareBookComponent.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavParams"] },
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_2__["AppStorageService"] },
        { type: _services_http_parse_service__WEBPACK_IMPORTED_MODULE_3__["HttpParseService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ToastController"] }
    ]; };
    ShareBookComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-share-book',
            template: __importDefault(__webpack_require__(/*! raw-loader!./share-book.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/share-book/share-book.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./share-book.component.scss */ "./src/app/shelf/share-book/share-book.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ModalController"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["NavParams"],
            _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_2__["AppStorageService"],
            _services_http_parse_service__WEBPACK_IMPORTED_MODULE_3__["HttpParseService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["ToastController"]])
    ], ShareBookComponent);
    return ShareBookComponent;
}());



/***/ }),

/***/ "./src/app/shelf/shelf-page.component.scss":
/*!*************************************************!*\
  !*** ./src/app/shelf/shelf-page.component.scss ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".login-content {\n  --background: /*#FF6347*/\n          white; }\n\n.logo {\n  color: white;\n  font-size: 64px;\n  font-weight: bold;\n  text-align: center;\n  padding-top: 50px; }\n\n.description {\n  color: white;\n  font-size: 22px;\n  text-align: center; }\n\n.log-in-button {\n  margin-top: 40px;\n  font-weight: bold; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RyYWdvcy5wYW50aXJ1L0RvY3VtZW50cy9oZGQvcHJvamVjdHMvZWJvb2stcmVhZGVyL2Vib29rLXJlYWRlci9zcmMvYXBwL3NoZWxmL3NoZWxmLXBhZ2UuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRTtlQUFhLEVBQUE7O0FBSWY7RUFDRSxZQUFZO0VBQ1osZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsaUJBQWlCLEVBQUE7O0FBR25CO0VBQ0UsWUFBWTtFQUNaLGVBQWU7RUFDZixrQkFBa0IsRUFBQTs7QUFHcEI7RUFDRSxnQkFBZ0I7RUFDaEIsaUJBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9zaGVsZi9zaGVsZi1wYWdlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmxvZ2luLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IC8qI0ZGNjM0NyovXG4gICAgICAgICAgd2hpdGU7XG59XG5cbi5sb2dvIHtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDY0cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmctdG9wOiA1MHB4O1xufVxuXG4uZGVzY3JpcHRpb24ge1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtc2l6ZTogMjJweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4ubG9nLWluLWJ1dHRvbiB7XG4gIG1hcmdpbi10b3A6IDQwcHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuIl19 */");

/***/ }),

/***/ "./src/app/shelf/shelf-page.component.ts":
/*!***********************************************!*\
  !*** ./src/app/shelf/shelf-page.component.ts ***!
  \***********************************************/
/*! exports provided: ShelfPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShelfPage", function() { return ShelfPage; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _ionic_storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/storage */ "./node_modules/@ionic/storage/fesm5/ionic-storage.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ebook-reader/services/menu.service */ "./src/app/ebook-reader/services/menu.service.ts");
/* harmony import */ var _services_http_parse_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/http-parse.service */ "./src/app/services/http-parse.service.ts");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
/* harmony import */ var _user_settings_user_settings_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./user-settings/user-settings.component */ "./src/app/shelf/user-settings/user-settings.component.ts");
/* harmony import */ var _services_loading_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../services/loading.service */ "./src/app/services/loading.service.ts");
/* harmony import */ var _book_popover_book_popover_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./book-popover/book-popover.component */ "./src/app/shelf/book-popover/book-popover.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};










var ShelfPage = /** @class */ (function () {
    function ShelfPage(router, storage, platform, menuCtrl, menuService, route, httpParseService, appStorageService, popoverController, loadingService, cdr) {
        this.router = router;
        this.storage = storage;
        this.platform = platform;
        this.menuCtrl = menuCtrl;
        this.menuService = menuService;
        this.route = route;
        this.httpParseService = httpParseService;
        this.appStorageService = appStorageService;
        this.popoverController = popoverController;
        this.loadingService = loadingService;
        this.cdr = cdr;
        this.books = [];
        this.filteredBooks = [];
        this.favoritesBooks = [];
        this.showFavorites = false;
        this.viewFreeBooks = false;
        this.showBooks = 0;
        this.areSharedBooks = false;
        this.initEventListeners();
    }
    ShelfPage.prototype.ngOnInit = function () {
        return __awaiter(this, void 0, void 0, function () {
            var userDTO;
            var _this = this;
            return __generator(this, function (_a) {
                this.routeSub = this.router.events.subscribe(function (event) {
                    if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_1__["NavigationStart"]) {
                        _this.clearAll();
                        _this.route.params.subscribe(function (params) {
                            _this.enableMenu();
                            _this.getBooks();
                        });
                    }
                });
                this.route.params.subscribe(function (params) {
                    _this.enableMenu();
                    _this.getBooks();
                });
                userDTO = this.appStorageService.getUserDTO();
                this.userDTO = userDTO;
                if (userDTO.lastReadBook && userDTO.goToLastRead) {
                    this.httpParseService.getBookById(userDTO.lastReadBook).subscribe(function (books) {
                        var bookDTO = books[0];
                        _this.openBook(bookDTO);
                    });
                }
                else {
                    this.getBooks();
                    this.enableMenu();
                }
                if (userDTO.favoritesBook != null) {
                    this.favoritesBooks = userDTO.favoritesBook.split(",");
                }
                return [2 /*return*/];
            });
        });
    };
    ShelfPage.prototype.ionViewWillEnter = function () {
        console.error('ionViewWillEnter');
        this.selectionChanged({ detail: { value: this.showBooks } });
    };
    ShelfPage.prototype.openBook = function (book) {
        var navigationExtras = {
            state: {
                book: book
            }
        };
        this.router.navigate(['reader'], navigationExtras);
    };
    ShelfPage.prototype.doRefresh = function (event) {
        this.selectionChanged({ detail: { value: this.showBooks } });
        event.target.complete();
    };
    ShelfPage.prototype.presentPopover = function (ev) {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _user_settings_user_settings_component__WEBPACK_IMPORTED_MODULE_7__["UserSettingsComponent"],
                            event: ev,
                            translucent: true
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    ShelfPage.prototype.searchChanged = function (event) {
        var searchedText = event.detail.value;
        if (searchedText.trim() == '') {
            this.filteredBooks = this.books;
        }
        else {
            this.filteredBooks = this.books.filter(function (book) { return book.fileName.toLowerCase().includes(searchedText.toLowerCase()); });
        }
    };
    ShelfPage.prototype.searchInputChanged = function (event) {
        if (event.detail == null) {
            this.filteredBooks = this.books;
            return;
        }
        var searchedText = event.detail.data;
        if (searchedText) {
            if (searchedText.trim() == '') {
                this.filteredBooks = this.books;
            }
            else {
                this.filteredBooks = this.books.filter(function (book) { return book.fileName.toLowerCase().includes(searchedText.toLowerCase()); });
            }
        }
    };
    ShelfPage.prototype.selectionChanged = function (event) {
        var _this = this;
        console.error(event);
        this.showBooks = event.detail.value;
        if (this.showBooks == 0) {
            this.getBooks();
            this.showFavorites = false;
            this.viewFreeBooks = false;
        }
        else if (this.showBooks == 1) {
            this.filteredBooks = this.books.filter(function (book) { return _this.favoritesBooks.includes(book.objectId); });
            this.showFavorites = true;
            this.viewFreeBooks = false;
        }
        else if (this.showBooks == 2) {
            this.showFavorites = false;
            this.viewFreeBooks = false;
            this.getSharedWithMeBooks();
        }
    };
    ShelfPage.prototype.showBookPopover = function (event, bookDTO) {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _book_popover_book_popover_component__WEBPACK_IMPORTED_MODULE_9__["BookPopoverComponent"],
                            componentProps: { bookDTO: bookDTO, userDTO: this.userDTO },
                            event: event,
                            translucent: true
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2: return [2 /*return*/, _a.sent()];
                }
            });
        });
    };
    ShelfPage.prototype.deleteBookLocal = function (bookDTO) {
        this.appStorageService.deleteBook(bookDTO);
        this.books = this.appStorageService.getBooks();
        this.filteredBooks = this.books;
    };
    ShelfPage.prototype.enableMenu = function () {
        this.menuCtrl.enable(true, 'my-books-menu');
    };
    ShelfPage.prototype.getBooks = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                if (this.books != null && this.books.length > 1) {
                    this.filteredBooks = this.books;
                    this.areSharedBooks = false;
                    return [2 /*return*/];
                }
                if (this.appStorageService.getBooks().length > 0) {
                    this.books = this.appStorageService.getBooks();
                    this.filteredBooks = this.books;
                    this.areSharedBooks = false;
                    return [2 /*return*/];
                }
                this.loadingService.showLoader();
                this.httpParseService.getBooksForUser().subscribe(function (res) {
                    _this.books = res.sort(function (a, b) { return a.fileName > b.fileName ? 1 : -1; });
                    _this.filteredBooks = _this.books;
                    _this.areSharedBooks = false;
                    _this.loadingService.dismissLoader();
                }, function (e) {
                    console.error(e);
                    _this.loadingService.dismissLoader();
                });
                return [2 /*return*/];
            });
        });
    };
    ShelfPage.prototype.getSharedWithMeBooks = function () {
        var _this = this;
        this.loadingService.showLoader();
        this.connectionMap = new Map(this.appStorageService.getUserConnections().map(function (user) { return [user.objectId, user]; }));
        console.error(this.connectionMap);
        this.httpParseService.getSharedWithMeBooks().subscribe(function (res) {
            _this.loadingService.dismissLoader();
            _this.sharedBooks = res.sort(function (a, b) { return a.bookDTO.fileName > b.bookDTO.fileName ? 1 : -1; });
            _this.areSharedBooks = true;
        }, function (e) {
            console.error(e);
            _this.loadingService.dismissLoader();
        });
    };
    ShelfPage.prototype.clearAll = function () {
        this.books = [];
        this.filteredBooks = [];
        this.favoritesBooks = [];
        this.showFavorites = false;
        this.userDTO = null;
        this.viewFreeBooks = false;
        this.areSharedBooks = false;
        this.sharedBooks = [];
    };
    ShelfPage.prototype.initEventListeners = function () {
        var _this = this;
        this.menuService.menuEmitter.subscribe(function (res) {
            switch (res.type) {
                case _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_4__["MenuEvents"].BOOKS_ADDED: {
                    _this.appStorageService.addBook(res.value);
                    _this.books = _this.appStorageService.getBooks();
                    _this.filteredBooks = _this.books;
                    break;
                }
                case _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_4__["MenuEvents"].FAVORITES_CHANGED: {
                    _this.favoritesBooks = res.value;
                    break;
                }
                case _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_4__["MenuEvents"].BOOK_DELETED: {
                    _this.deleteBookLocal(res.value);
                    break;
                }
                default: {
                    break;
                }
            }
        });
    };
    ShelfPage.ctorParameters = function () { return [
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
        { type: _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["MenuController"] },
        { type: _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_4__["MenuService"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] },
        { type: _services_http_parse_service__WEBPACK_IMPORTED_MODULE_5__["HttpParseService"] },
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_6__["AppStorageService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["PopoverController"] },
        { type: _services_loading_service__WEBPACK_IMPORTED_MODULE_8__["LoadingService"] },
        { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }
    ]; };
    ShelfPage = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'shelf-page',
            template: __importDefault(__webpack_require__(/*! raw-loader!./shelf-page.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/shelf-page.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./shelf-page.component.scss */ "./src/app/shelf/shelf-page.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            _ionic_storage__WEBPACK_IMPORTED_MODULE_2__["Storage"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["Platform"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["MenuController"],
            _ebook_reader_services_menu_service__WEBPACK_IMPORTED_MODULE_4__["MenuService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            _services_http_parse_service__WEBPACK_IMPORTED_MODULE_5__["HttpParseService"],
            _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_6__["AppStorageService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["PopoverController"],
            _services_loading_service__WEBPACK_IMPORTED_MODULE_8__["LoadingService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]])
    ], ShelfPage);
    return ShelfPage;
}());



/***/ }),

/***/ "./src/app/shelf/shelf.module.ts":
/*!***************************************!*\
  !*** ./src/app/shelf/shelf.module.ts ***!
  \***************************************/
/*! exports provided: ShelfPageModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShelfPageModule", function() { return ShelfPageModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var ngx_uploader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-uploader */ "./node_modules/ngx-uploader/fesm5/ngx-uploader.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _shelf_page_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./shelf-page.component */ "./src/app/shelf/shelf-page.component.ts");
/* harmony import */ var _my_books_menu_my_books_menu_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./my-books-menu/my-books-menu.component */ "./src/app/shelf/my-books-menu/my-books-menu.component.ts");
/* harmony import */ var _user_settings_user_settings_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./user-settings/user-settings.component */ "./src/app/shelf/user-settings/user-settings.component.ts");
/* harmony import */ var _book_popover_book_popover_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./book-popover/book-popover.component */ "./src/app/shelf/book-popover/book-popover.component.ts");
/* harmony import */ var _social_social_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../social/social.module */ "./src/app/social/social.module.ts");
/* harmony import */ var _share_book_share_book_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./share-book/share-book.component */ "./src/app/shelf/share-book/share-book.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};












var routes = [
    {
        path: '',
        component: _shelf_page_component__WEBPACK_IMPORTED_MODULE_6__["ShelfPage"]
    }
];
var ShelfPageModule = /** @class */ (function () {
    function ShelfPageModule() {
    }
    ShelfPageModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_5__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(routes),
                ngx_uploader__WEBPACK_IMPORTED_MODULE_4__["NgxUploaderModule"],
                _social_social_module__WEBPACK_IMPORTED_MODULE_10__["SocialModule"]
            ],
            declarations: [
                _shelf_page_component__WEBPACK_IMPORTED_MODULE_6__["ShelfPage"],
                _my_books_menu_my_books_menu_component__WEBPACK_IMPORTED_MODULE_7__["MyBooksMenuComponent"],
                _user_settings_user_settings_component__WEBPACK_IMPORTED_MODULE_8__["UserSettingsComponent"],
                _book_popover_book_popover_component__WEBPACK_IMPORTED_MODULE_9__["BookPopoverComponent"],
                _share_book_share_book_component__WEBPACK_IMPORTED_MODULE_11__["ShareBookComponent"]
            ],
            exports: [
                _my_books_menu_my_books_menu_component__WEBPACK_IMPORTED_MODULE_7__["MyBooksMenuComponent"],
                _user_settings_user_settings_component__WEBPACK_IMPORTED_MODULE_8__["UserSettingsComponent"],
                _book_popover_book_popover_component__WEBPACK_IMPORTED_MODULE_9__["BookPopoverComponent"],
                _share_book_share_book_component__WEBPACK_IMPORTED_MODULE_11__["ShareBookComponent"]
            ],
            entryComponents: [
                _user_settings_user_settings_component__WEBPACK_IMPORTED_MODULE_8__["UserSettingsComponent"],
                _book_popover_book_popover_component__WEBPACK_IMPORTED_MODULE_9__["BookPopoverComponent"],
                _share_book_share_book_component__WEBPACK_IMPORTED_MODULE_11__["ShareBookComponent"]
            ]
        })
    ], ShelfPageModule);
    return ShelfPageModule;
}());



/***/ }),

/***/ "./src/app/shelf/user-settings/user-settings.component.scss":
/*!******************************************************************!*\
  !*** ./src/app/shelf/user-settings/user-settings.component.scss ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NoZWxmL3VzZXItc2V0dGluZ3MvdXNlci1zZXR0aW5ncy5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "./src/app/shelf/user-settings/user-settings.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/shelf/user-settings/user-settings.component.ts ***!
  \****************************************************************/
/*! exports provided: UserSettingsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserSettingsComponent", function() { return UserSettingsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_http_parse_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/http-parse.service */ "./src/app/services/http-parse.service.ts");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





var UserSettingsComponent = /** @class */ (function () {
    function UserSettingsComponent(httpParseService, appStorageService, popoverController, router) {
        this.httpParseService = httpParseService;
        this.appStorageService = appStorageService;
        this.popoverController = popoverController;
        this.router = router;
    }
    UserSettingsComponent.prototype.ngOnInit = function () {
        this.userDTO = this.appStorageService.getUserDTO();
        if (this.userDTO.goToLastRead == null) {
            this.userDTO.goToLastRead = false;
        }
    };
    UserSettingsComponent.prototype.setOpenLastRead = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        this.userDTO.goToLastRead = !this.userDTO.goToLastRead;
                        this.httpParseService.updateOpenLastRead(this.userDTO);
                        return [4 /*yield*/, this.popoverController.dismiss()];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    UserSettingsComponent.prototype.logOut = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.dismiss()];
                    case 1:
                        _a.sent();
                        this.appStorageService.clearUser();
                        this.router.navigate(['/auth/login']).then();
                        return [2 /*return*/];
                }
            });
        });
    };
    UserSettingsComponent.ctorParameters = function () { return [
        { type: _services_http_parse_service__WEBPACK_IMPORTED_MODULE_1__["HttpParseService"] },
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_2__["AppStorageService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["PopoverController"] },
        { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"] }
    ]; };
    UserSettingsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-user-settings',
            template: __importDefault(__webpack_require__(/*! raw-loader!./user-settings.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/shelf/user-settings/user-settings.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./user-settings.component.scss */ "./src/app/shelf/user-settings/user-settings.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_services_http_parse_service__WEBPACK_IMPORTED_MODULE_1__["HttpParseService"],
            _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_2__["AppStorageService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["PopoverController"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"]])
    ], UserSettingsComponent);
    return UserSettingsComponent;
}());



/***/ }),

/***/ "./src/app/social/my-connections/my-connections.component.scss":
/*!*********************************************************************!*\
  !*** ./src/app/social/my-connections/my-connections.component.scss ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NvY2lhbC9teS1jb25uZWN0aW9ucy9teS1jb25uZWN0aW9ucy5jb21wb25lbnQuc2NzcyJ9 */");

/***/ }),

/***/ "./src/app/social/my-connections/my-connections.component.ts":
/*!*******************************************************************!*\
  !*** ./src/app/social/my-connections/my-connections.component.ts ***!
  \*******************************************************************/
/*! exports provided: MyConnectionsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MyConnectionsComponent", function() { return MyConnectionsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_http_parse_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/http-parse.service */ "./src/app/services/http-parse.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




var MyConnectionsComponent = /** @class */ (function () {
    function MyConnectionsComponent(httpParseService, modalController, appStorageService) {
        this.httpParseService = httpParseService;
        this.modalController = modalController;
        this.appStorageService = appStorageService;
        this.isOkToRender = false;
    }
    MyConnectionsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.httpParseService.getMyConnectedUsers().subscribe(function (conns) {
            _this.connections = conns;
            _this.isOkToRender = true;
        });
    };
    MyConnectionsComponent.prototype.dismissModal = function () {
        this.modalController.dismiss();
    };
    MyConnectionsComponent.ctorParameters = function () { return [
        { type: _services_http_parse_service__WEBPACK_IMPORTED_MODULE_1__["HttpParseService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"] },
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__["AppStorageService"] }
    ]; };
    MyConnectionsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-my-connections',
            template: __importDefault(__webpack_require__(/*! raw-loader!./my-connections.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/social/my-connections/my-connections.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./my-connections.component.scss */ "./src/app/social/my-connections/my-connections.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_services_http_parse_service__WEBPACK_IMPORTED_MODULE_1__["HttpParseService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__["AppStorageService"]])
    ], MyConnectionsComponent);
    return MyConnectionsComponent;
}());



/***/ }),

/***/ "./src/app/social/pending-connections/pending-connections.component.scss":
/*!*******************************************************************************!*\
  !*** ./src/app/social/pending-connections/pending-connections.component.scss ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NvY2lhbC9wZW5kaW5nLWNvbm5lY3Rpb25zL3BlbmRpbmctY29ubmVjdGlvbnMuY29tcG9uZW50LnNjc3MifQ== */");

/***/ }),

/***/ "./src/app/social/pending-connections/pending-connections.component.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/social/pending-connections/pending-connections.component.ts ***!
  \*****************************************************************************/
/*! exports provided: PendingConnectionsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PendingConnectionsComponent", function() { return PendingConnectionsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_http_parse_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/http-parse.service */ "./src/app/services/http-parse.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};



var PendingConnectionsComponent = /** @class */ (function () {
    function PendingConnectionsComponent(httpParseService, modalController) {
        this.httpParseService = httpParseService;
        this.modalController = modalController;
        this.usersMap = new Map();
        this.isOkToRender = false;
    }
    PendingConnectionsComponent.prototype.ngOnInit = function () {
        this.refreshPendingConnections();
    };
    PendingConnectionsComponent.prototype.refreshPendingConnections = function () {
        var _this = this;
        this.httpParseService.getReceivedConnections().subscribe(function (connections) {
            _this.receivedConnections = connections == null ? [] : connections;
            if (_this.receivedConnections.length == 0) {
                _this.isOkToRender = false;
                return;
            }
            var usersIdArray = [];
            _this.receivedConnections.forEach(function (connection) {
                usersIdArray.push(connection.firstUserId);
            });
            _this.httpParseService.getUsersByIds(usersIdArray).subscribe(function (usersDTO) {
                usersDTO.forEach(function (userDTO) { return _this.usersMap.set(userDTO.objectId, userDTO); });
                _this.isOkToRender = true;
            }), function (e1) { return console.error(e1); };
        }, function (e) { return console.error(e); });
    };
    PendingConnectionsComponent.prototype.acceptInvite = function (connection) {
        var _this = this;
        this.httpParseService.acceptConnection(connection).subscribe(function (res) {
            _this.refreshPendingConnections();
        });
    };
    PendingConnectionsComponent.prototype.dismissModal = function () {
        this.modalController.dismiss();
    };
    PendingConnectionsComponent.ctorParameters = function () { return [
        { type: _services_http_parse_service__WEBPACK_IMPORTED_MODULE_1__["HttpParseService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"] }
    ]; };
    PendingConnectionsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-pending-connections',
            template: __importDefault(__webpack_require__(/*! raw-loader!./pending-connections.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/social/pending-connections/pending-connections.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./pending-connections.component.scss */ "./src/app/social/pending-connections/pending-connections.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_services_http_parse_service__WEBPACK_IMPORTED_MODULE_1__["HttpParseService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"]])
    ], PendingConnectionsComponent);
    return PendingConnectionsComponent;
}());



/***/ }),

/***/ "./src/app/social/people/people.component.scss":
/*!*****************************************************!*\
  !*** ./src/app/social/people/people.component.scss ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ("\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NvY2lhbC9wZW9wbGUvcGVvcGxlLmNvbXBvbmVudC5zY3NzIn0= */");

/***/ }),

/***/ "./src/app/social/people/people.component.ts":
/*!***************************************************!*\
  !*** ./src/app/social/people/people.component.ts ***!
  \***************************************************/
/*! exports provided: PeopleComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PeopleComponent", function() { return PeopleComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_http_parse_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/http-parse.service */ "./src/app/services/http-parse.service.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




var PeopleComponent = /** @class */ (function () {
    function PeopleComponent(httpParseService, modalController, appStorageService) {
        this.httpParseService = httpParseService;
        this.modalController = modalController;
        this.appStorageService = appStorageService;
    }
    PeopleComponent.prototype.ngOnInit = function () {
        this.refreshPendingConnections();
        this.getAllUsers();
    };
    PeopleComponent.prototype.getAllUsers = function () {
        var _this = this;
        this.httpParseService.getUnconnectedUsers().subscribe(function (res) {
            _this.usersDTO = res;
        }, function (e) { return console.error(e); });
    };
    PeopleComponent.prototype.sendInvite = function (userDTO) {
        var _this = this;
        this.httpParseService.addConenction(userDTO).subscribe(function (connection) {
            _this.appStorageService.addConnection(connection);
            _this.refreshPendingConnections();
        });
    };
    PeopleComponent.prototype.checkInvitationSent = function (user) {
        return this.myPendingConnections.find(function (conn) { return conn.secondUserId == user.objectId; }) != null;
    };
    PeopleComponent.prototype.dismissModal = function () {
        this.modalController.dismiss();
    };
    PeopleComponent.prototype.refreshPendingConnections = function () {
        var _this = this;
        this.httpParseService.getMyPendingConnection().subscribe(function (connections) {
            _this.myPendingConnections = connections == null ? [] : connections;
        }, function (e) { return console.error(e); });
    };
    PeopleComponent.ctorParameters = function () { return [
        { type: _services_http_parse_service__WEBPACK_IMPORTED_MODULE_1__["HttpParseService"] },
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"] },
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__["AppStorageService"] }
    ]; };
    PeopleComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-people',
            template: __importDefault(__webpack_require__(/*! raw-loader!./people.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/social/people/people.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./people.component.scss */ "./src/app/social/people/people.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_services_http_parse_service__WEBPACK_IMPORTED_MODULE_1__["HttpParseService"],
            _ionic_angular__WEBPACK_IMPORTED_MODULE_2__["ModalController"],
            _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__["AppStorageService"]])
    ], PeopleComponent);
    return PeopleComponent;
}());



/***/ }),

/***/ "./src/app/social/social.module.ts":
/*!*****************************************!*\
  !*** ./src/app/social/social.module.ts ***!
  \*****************************************/
/*! exports provided: SocialModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SocialModule", function() { return SocialModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _people_people_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./people/people.component */ "./src/app/social/people/people.component.ts");
/* harmony import */ var _pending_connections_pending_connections_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pending-connections/pending-connections.component */ "./src/app/social/pending-connections/pending-connections.component.ts");
/* harmony import */ var _my_connections_my_connections_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./my-connections/my-connections.component */ "./src/app/social/my-connections/my-connections.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};








var routes = [
    {
        path: 'people',
        component: _people_people_component__WEBPACK_IMPORTED_MODULE_5__["PeopleComponent"]
    },
    {
        path: 'pending-connections',
        component: _pending_connections_pending_connections_component__WEBPACK_IMPORTED_MODULE_6__["PendingConnectionsComponent"]
    },
    {
        path: 'my-connections',
        component: _my_connections_my_connections_component__WEBPACK_IMPORTED_MODULE_7__["MyConnectionsComponent"]
    }
];
var SocialModule = /** @class */ (function () {
    function SocialModule() {
    }
    SocialModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: [
                _people_people_component__WEBPACK_IMPORTED_MODULE_5__["PeopleComponent"],
                _pending_connections_pending_connections_component__WEBPACK_IMPORTED_MODULE_6__["PendingConnectionsComponent"],
                _my_connections_my_connections_component__WEBPACK_IMPORTED_MODULE_7__["MyConnectionsComponent"]
            ],
            imports: [
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormsModule"],
                _ionic_angular__WEBPACK_IMPORTED_MODULE_4__["IonicModule"],
                _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forChild(routes)
            ]
        })
    ], SocialModule);
    return SocialModule;
}());



/***/ }),

/***/ "./src/app/utils/color-chooser/color-chooser.component.scss":
/*!******************************************************************!*\
  !*** ./src/app/utils/color-chooser/color-chooser.component.scss ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".color-chooser-button {\n  border-radius: 2px;\n  border: 1px solid; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RyYWdvcy5wYW50aXJ1L0RvY3VtZW50cy9oZGQvcHJvamVjdHMvZWJvb2stcmVhZGVyL2Vib29rLXJlYWRlci9zcmMvYXBwL3V0aWxzL2NvbG9yLWNob29zZXIvY29sb3ItY2hvb3Nlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFrQjtFQUNsQixpQkFBaUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3V0aWxzL2NvbG9yLWNob29zZXIvY29sb3ItY2hvb3Nlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb2xvci1jaG9vc2VyLWJ1dHRvbiB7XG4gIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgYm9yZGVyOiAxcHggc29saWQ7XG59Il19 */");

/***/ }),

/***/ "./src/app/utils/color-chooser/color-chooser.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/utils/color-chooser/color-chooser.component.ts ***!
  \****************************************************************/
/*! exports provided: ColorChooserComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorChooserComponent", function() { return ColorChooserComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _color_pallete_color_pallete_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./color-pallete/color-pallete.component */ "./src/app/utils/color-chooser/color-pallete/color-pallete.component.ts");
/* harmony import */ var _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../er-local-storage/app-storage.service */ "./src/app/er-local-storage/app-storage.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




var ColorChooserComponent = /** @class */ (function () {
    function ColorChooserComponent(popoverController, appStorageService) {
        this.popoverController = popoverController;
        this.appStorageService = appStorageService;
        this.colorChoosed = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ColorChooserComponent.prototype.ngOnInit = function () {
    };
    ColorChooserComponent.prototype.setColor = function (s) {
        this.colorChoosed.next(s);
    };
    ColorChooserComponent.prototype.openPallete = function (ev) {
        return __awaiter(this, void 0, void 0, function () {
            var popover;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.popoverController.create({
                            component: _color_pallete_color_pallete_component__WEBPACK_IMPORTED_MODULE_2__["ColorPalleteComponent"],
                            translucent: true,
                            event: ev,
                        })];
                    case 1:
                        popover = _a.sent();
                        return [4 /*yield*/, popover.present()];
                    case 2:
                        _a.sent();
                        popover.onDidDismiss().then(function (res) {
                            if (res.data != null) {
                                _this.selectedColor = res.data.color;
                                _this.setColor(res.data.color);
                            }
                        });
                        return [2 /*return*/];
                }
            });
        });
    };
    ColorChooserComponent.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"] },
        { type: _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__["AppStorageService"] }
    ]; };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])('colorChoosed'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
    ], ColorChooserComponent.prototype, "colorChoosed", void 0);
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])('selectedColor'),
        __metadata("design:type", Object)
    ], ColorChooserComponent.prototype, "selectedColor", void 0);
    ColorChooserComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-color-chooser',
            template: __importDefault(__webpack_require__(/*! raw-loader!./color-chooser.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/utils/color-chooser/color-chooser.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./color-chooser.component.scss */ "./src/app/utils/color-chooser/color-chooser.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"],
            _er_local_storage_app_storage_service__WEBPACK_IMPORTED_MODULE_3__["AppStorageService"]])
    ], ColorChooserComponent);
    return ColorChooserComponent;
}());



/***/ }),

/***/ "./src/app/utils/color-chooser/color-pallete/color-pallete.component.scss":
/*!********************************************************************************!*\
  !*** ./src/app/utils/color-chooser/color-pallete/color-pallete.component.scss ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = (".pallete-grid > ion-row > ion-col {\n  border: 1px solid; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2RyYWdvcy5wYW50aXJ1L0RvY3VtZW50cy9oZGQvcHJvamVjdHMvZWJvb2stcmVhZGVyL2Vib29rLXJlYWRlci9zcmMvYXBwL3V0aWxzL2NvbG9yLWNob29zZXIvY29sb3ItcGFsbGV0ZS9jb2xvci1wYWxsZXRlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC91dGlscy9jb2xvci1jaG9vc2VyL2NvbG9yLXBhbGxldGUvY29sb3ItcGFsbGV0ZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wYWxsZXRlLWdyaWQgPiBpb24tcm93ID4gaW9uLWNvbCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkO1xufSJdfQ== */");

/***/ }),

/***/ "./src/app/utils/color-chooser/color-pallete/color-pallete.component.ts":
/*!******************************************************************************!*\
  !*** ./src/app/utils/color-chooser/color-pallete/color-pallete.component.ts ***!
  \******************************************************************************/
/*! exports provided: ColorPalleteComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ColorPalleteComponent", function() { return ColorPalleteComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};


var ColorPalleteComponent = /** @class */ (function () {
    function ColorPalleteComponent(popoverController) {
        this.popoverController = popoverController;
    }
    ColorPalleteComponent.prototype.ngOnInit = function () {
    };
    ColorPalleteComponent.prototype.setColor = function (s) {
        this.popoverController.dismiss({ color: s });
    };
    ColorPalleteComponent.ctorParameters = function () { return [
        { type: _ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"] }
    ]; };
    ColorPalleteComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-color-pallete',
            template: __importDefault(__webpack_require__(/*! raw-loader!./color-pallete.component.html */ "./node_modules/raw-loader/dist/cjs.js!./src/app/utils/color-chooser/color-pallete/color-pallete.component.html")).default,
            styles: [__importDefault(__webpack_require__(/*! ./color-pallete.component.scss */ "./src/app/utils/color-chooser/color-pallete/color-pallete.component.scss")).default]
        }),
        __metadata("design:paramtypes", [_ionic_angular__WEBPACK_IMPORTED_MODULE_1__["PopoverController"]])
    ], ColorPalleteComponent);
    return ColorPalleteComponent;
}());



/***/ }),

/***/ "./src/app/utils/shared.module.ts":
/*!****************************************!*\
  !*** ./src/app/utils/shared.module.ts ***!
  \****************************************/
/*! exports provided: SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return SharedModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _color_chooser_color_chooser_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./color-chooser/color-chooser.component */ "./src/app/utils/color-chooser/color-chooser.component.ts");
/* harmony import */ var _ionic_angular__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ionic/angular */ "./node_modules/@ionic/angular/dist/fesm5.js");
/* harmony import */ var _color_chooser_color_pallete_color_pallete_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./color-chooser/color-pallete/color-pallete.component */ "./src/app/utils/color-chooser/color-pallete/color-pallete.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};





var SharedModule = /** @class */ (function () {
    function SharedModule() {
    }
    SharedModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            declarations: [
                _color_chooser_color_chooser_component__WEBPACK_IMPORTED_MODULE_2__["ColorChooserComponent"],
                _color_chooser_color_pallete_color_pallete_component__WEBPACK_IMPORTED_MODULE_4__["ColorPalleteComponent"]
            ],
            imports: [
                _ionic_angular__WEBPACK_IMPORTED_MODULE_3__["IonicModule"],
                _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"]
            ],
            exports: [
                _color_chooser_color_chooser_component__WEBPACK_IMPORTED_MODULE_2__["ColorChooserComponent"],
                _color_chooser_color_pallete_color_pallete_component__WEBPACK_IMPORTED_MODULE_4__["ColorPalleteComponent"]
            ],
            entryComponents: [
                _color_chooser_color_pallete_color_pallete_component__WEBPACK_IMPORTED_MODULE_4__["ColorPalleteComponent"]
            ]
        })
    ], SharedModule);
    return SharedModule;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=prod` then `environment.prod.ts` will be used instead.
// The list of which env maps to which file can be found in `.angular-cli.json`.
var environment = {
    production: false
};
/*
 * In development mode, to ignore zone related error stack frames such as
 * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can
 * import the following file, but please comment it out in production mode
 * because it will have performance impact when throw error
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");
var __importDefault = (undefined && undefined.__importDefault) || function (mod) {
  return (mod && mod.__esModule) ? mod : { "default": mod };
};




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /home/dragos.pantiru/Documents/hdd/projects/ebook-reader/ebook-reader/src/main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map